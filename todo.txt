(B) Add hard text-length guards to slash commands in `/src/lib/commands/command-processor.ts` with user-facing truncation errors. +stability +performance +ux
(B) Implement real model download and cache pipeline for ONNX assets in `/src/lib/ml/model-manager.ts` and `/src-tauri/src/ml.rs`. +feature +performance +alignment
(B) Hide local model commands when ONNX runtime is unavailable and replace with explicit capability errors. +stability +ux +alignment
(B) Remove misleading “model downloaded” localStorage-only state in `/src/lib/ml/model-manager.ts` and key status off verified file presence. +stability +bugfix +alignment
(B) Fix TOML section parsing regex in `/src/lib/toml.ts` so `[profile]` and other sections parse correctly. +stability +bugfix +config
(B) Add schema validation for parsed TOML before calling `updateSettings` in `/src/components/ConfigDialog.tsx`. +stability +types +config
(B) Emit a `junas-settings-change` event inside `StorageManager.saveSettings` so snippet-dependent UI updates without reload. +dx +stability +ui
(B) Add high-signal local observability events for provider latency, tool latency, and failure rates in chat flow. +dx +observability +stability
(B) Persist recent error events to local app data for offline debugging with no cloud telemetry. +dx +observability +localfirst
(B) Add `npm run typecheck` script and fail CI on TypeScript errors. +dx +ci +quality
(B) Add `npm run lint` to CI build workflow before packaging artifacts. +dx +ci +quality
(B) Add `cargo check --all-targets` and `cargo clippy -D warnings` to CI build workflow. +dx +ci +quality
(B) Add fast unit tests for command parsing, TOML parsing, citation extraction, and history persistence. +dx +testing +quality
(B) Add a smoke integration test that sends a prompt, streams a response, persists chat state, and reloads history. +dx +testing +stability
(B) Disable Tauri `devtools` feature in release builds by removing unconditional `features = ["devtools"]` from `/src-tauri/Cargo.toml`. +security +stability +hardening
(B) Tighten Tauri CSP in `/src-tauri/tauri.conf.json` by removing `script-src 'unsafe-inline'` after diagram rendering hardening lands. +security +hardening +stability

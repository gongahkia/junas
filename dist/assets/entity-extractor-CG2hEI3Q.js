import{n as Sa}from"./three-SXxGkC3e.js";const Ba=function(e){let t=null;return e.has("^(between|within) #Date")||(e.has("#Month")&&(t=e.match("[#Month #Value] and? #Month",0).ifNo("@hasDash$"),t.found&&(e=e.splitAfter(t)),t=e.match("[#Value #Month] and? #Value #Month",0),t.found&&(e=e.splitAfter(t)),t=e.match("^[#Month] and? #Month #Ordinal?$",0),t.found&&(e=e.splitAfter(t)),t=e.match("[#Month #Value] #Month",0).ifNo("@hasDash$"),t.found&&(e=e.splitAfter(t))),e.has("#WeekDay")&&(t=e.match("^[#WeekDay] and? #WeekDay$",0).ifNo("@hasDash$"),t.found&&(e=e.splitAfter(t)),t=e.match("#WeekDay #WeekDay and? #WeekDay"),t.found&&(e=e.splitOn("#WeekDay")),t=e.match("[#WeekDay] (and|or|this|next)? #WeekDay",0).ifNo("@hasDash$"),t.found&&(e=e.splitAfter("#WeekDay"))),t=e.match("(this|next) #Duration [(today|tomorrow|yesterday)]",0),t.found&&(e=e.splitBefore(t)),t=e.match("[(today|tomorrow|yesterday)] #Value #Month",0),t.found&&(e=e.splitAfter(t)),t=e.match("[(today|tomorrow|yesterday)] (today|tomorrow|yesterday|#WeekDay)",0).ifNo("@hasDash$"),t.found&&(e=e.splitAfter(t)),t=e.match("#Year [and] #Year",0),t.found&&(e=e.splitAfter(t)),e=e.not("^and"),e=e.not("and$")),e},Ia=function(e){let t=e.match("#Date+");t=t.filter(n=>{let r=n.has("^#Duration+$")||n.has("^#Value #Duration+$");return r===!0&&n.has("(#FinancialQuarter|quarter)")?!0:r===!1});let a=t.match("[#Cardinal #Duration (in|on|this|next|during|for)] #Date",0);return a.found&&(t=t.not(a)),a=t.match("[#Cardinal #Duration] #WeekDay",0),a.found&&(t=t.not(a)),a=t.match("#Date [for #Value #Duration]$",0),a.found&&(t=t.not(a)),a=t.match("[#Cardinal #Duration] #Date",0),a.found&&!t.has("#Cardinal #Duration] (ago|from|before|after|back)")&&(t=t.not(a)),a=t.match("for #Cardinal #Duration"),a.found&&(t=t.not(a)),t=t.notIf("^one (#WeekDay|#Month)$"),t=Ba(t),t=t.notIf("(#Money|#Percentage)"),t=t.notIf("^per #Duration"),t},Ha={second:!0,minute:!0,hour:!0,day:!0,week:!0,weekend:!0,month:!0,season:!0,quarter:!0,year:!0},Jt={wk:"week",min:"minute",sec:"second",weekend:"week"},it=function(e){let t=e.match("#Duration").text("normal");return t=t.replace(/s$/,""),Jt.hasOwnProperty(t)&&(t=Jt[t]),t},Wa=function(e){let t={},a=e.none(),n=e.match("#DateShift+");if(n.found===!1)return{res:t,m:a};if(n.match("#Cardinal #Duration").forEach(r=>{let i=r.match("#Cardinal").numbers().get()[0];if(i&&typeof i=="number"){let o=it(r);Ha[o]===!0&&(t[o]=i)}}),n.has("(before|ago|hence|back)$")===!0&&Object.keys(t).forEach(r=>t[r]*=-1),a=n.match("#Cardinal #Duration"),n=n.not(a),a=n.match("[<unit>#Duration] [<dir>(after|before)]"),a.found){let r=a.groups("unit").text("reduced"),i=a.groups("dir").text("reduced");i==="after"?t[r]=1:i==="before"&&(t[r]=-1)}if(a=n.match("half (a|an) [#Duration]",0),a.found){let r=it(a);t[r]=.5}if(a=n.match("a (few|couple) [#Duration]",0),a.found){let r=it(a);t[r]=a.has("few")?3:2}return a=e.match("#DateShift+"),{result:t,m:a}},Ra={minute:!0},Fa=function(e){let t=e.match("[<num>#Value] [<unit>#Duration+] (of|in)");if(t.found){let a=t.groups(),n=a.num.numbers().get()[0],r=a.unit.text("reduced"),i={unit:r,num:Number(n)||0};return Ra[r]||(i.num-=1),{result:i,m:t}}if(t=e.match("[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)"),t.found){let a=t.groups(),n=a.dir.text("reduced"),r=a.unit.text("reduced");return n==="initial"&&(n="first"),n==="final"&&(n="last"),{result:{unit:r,dir:n},m:t}}return{result:null,m:e.none()}},Ja=3600*1e3,Ut=(e,t,a)=>{const[n,r]=e.split("/"),[i,o]=r.split(":");return Date.UTC(a,n-1,i,o)-t*Ja},Va=(e,t,a,n,r)=>{const i=new Date(e).getUTCFullYear(),o=Ut(t,r,i),s=Ut(a,n,i);return e>=o&&e<s},Ua=e=>{let a=e.timezones[e.tz];if(a===void 0)return console.warn("Warning: couldn't find timezone "+e.tz),0;if(a.dst===void 0)return a.offset;let n=a.offset,r=a.offset+1;a.hem==="n"&&(r=n-1);let i=a.dst.split("->");return Va(e.epoch,i[0],i[1],n,r)===!0?n:r},Kt={"9|s":"2/dili,2/jayapura","9|n":"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,2/yakutsk,11/palau,japan,rok","9.5|s|04/06:03->10/05:04":"4/adelaide,4/broken_hill,4/south,4/yancowinna","9.5|s":"4/darwin,4/north","8|s|03/13:01->10/02:00":"12/casey","8|s":"2/kuala_lumpur,2/makassar,2/singapore,4/perth,2/ujung_pandang,4/west,singapore","8|n":"2/brunei,2/hong_kong,2/irkutsk,2/kuching,2/macau,2/manila,2/shanghai,2/taipei,2/ulaanbaatar,2/chongqing,2/chungking,2/harbin,2/macao,2/ulan_bator,2/choibalsan,hongkong,prc,roc","8.75|s":"4/eucla","7|s":"12/davis,2/jakarta,9/christmas","7|n":"2/bangkok,2/barnaul,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/ho_chi_minh,2/tomsk,2/vientiane,2/saigon","6|s":"12/vostok","6|n":"2/almaty,2/bishkek,2/dhaka,2/omsk,2/qyzylorda,2/qostanay,2/thimphu,2/urumqi,9/chagos,2/dacca,2/kashgar,2/thimbu","6.5|n":"2/yangon,9/cocos,2/rangoon","5|s":"12/mawson,9/kerguelen","5|n":"2/aqtau,2/aqtobe,2/ashgabat,2/atyrau,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives,2/ashkhabad","5.75|n":"2/kathmandu,2/katmandu","5.5|n":"2/kolkata,2/colombo,2/calcutta","4|s":"9/reunion","4|n":"2/baku,2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,9/mahe,9/mauritius,2/volgograd","4.5|n":"2/kabul","3|s":"12/syowa,9/antananarivo","3|n|04/25:02->10/30:24":"0/cairo,egypt","3|n|04/12:04->10/25:02":"2/gaza,2/hebron","3|n|03/30:05->10/26:04":"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kyiv,8/mariehamn,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye,8/nicosia,8/kiev,eet","3|n|03/30:04->10/26:03":"8/chisinau,8/tiraspol","3|n|03/30:02->10/25:24":"2/beirut","3|n|03/28:04->10/26:02":"2/jerusalem,2/tel_aviv,israel","3|n":"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/amman,2/baghdad,2/bahrain,2/damascus,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte,2/istanbul,turkey,w-su","3.5|n":"2/tehran,iran","2|s|03/30:04->10/26:02":"12/troll","2|s":"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane","2|n|03/30:04->10/26:03":"0/ceuta,arctic/longyearbyen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich,3/jan_mayen,poland,cet,met","2|n":"0/blantyre,0/bujumbura,0/khartoum,0/kigali,0/tripoli,8/kaliningrad,libya","1|s":"0/brazzaville,0/kinshasa,0/luanda,0/windhoek","1|n|03/30:03->10/26:02":"3/canary,3/faroe,3/madeira,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london,3/faeroe,eire,8/belfast,gb-eire,gb,portugal,wet","1|n":"0/algiers,0/bangui,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis","14|n":"11/kiritimati","13|s":"11/apia,11/tongatapu","13|n":"11/enderbury,11/kanton,11/fakaofo","12|s|04/06:03->09/28:04":"12/mcmurdo,11/auckland,12/south_pole,nz","12|s":"11/fiji","12|n":"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis,kwajalein","12.75|s|04/06:03->04/06:02":"11/chatham,nz-chat","11|s|04/06:03->10/05:04":"12/macquarie","11|s":"11/bougainville","11|n":"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape","11.5|n|04/06:03->10/05:04":"11/norfolk","10|s|04/06:03->10/05:04":"4/currie,4/hobart,4/melbourne,4/sydney,4/act,4/canberra,4/nsw,4/tasmania,4/victoria","10|s":"12/dumontdurville,4/brisbane,4/lindeman,11/port_moresby,4/queensland","10|n":"2/ust-nera,2/vladivostok,11/guam,11/saipan,11/chuuk,11/truk,11/yap","10.5|s|04/06:01->10/05:02":"4/lord_howe,4/lhi","0|s|02/23:03->04/06:04":"0/casablanca,0/el_aaiun","0|n|03/30:02->10/26:01":"3/azores","0|n|03/30:01->10/25:24":"1/scoresbysund","0|n":"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/utc,0/timbuktu,13/greenwich,13/uct,13/universal,13/zulu,gmt-0,gmt+0,gmt0,greenwich,iceland,uct,universal,utc,zulu,13/unknown,factory","-9|n|03/09:04->11/02:02":"1/adak,1/atka,us/aleutian","-9|n":"11/gambier","-9.5|n":"11/marquesas","-8|n|03/09:04->11/02:02":"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat,us/alaska","-8|n":"11/pitcairn","-7|n|03/09:04->11/02:02":"1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,1/ensenada,6/pacific,10/bajanorte,us/pacific-new,us/pacific","-7|n":"1/creston,1/dawson,1/dawson_creek,1/fort_nelson,1/hermosillo,1/mazatlan,1/phoenix,1/whitehorse,6/yukon,10/bajasur,us/arizona,mst","-6|s|04/05:22->09/06:24":"11/easter,7/easterisland","-6|n|04/07:02->10/27:02":"1/merida","-6|n|03/09:04->11/02:02":"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/north_dakota,1/ojinaga,1/ciudad_juarez,1/yellowknife,1/shiprock,6/mountain,navajo,us/mountain","-6|n":"1/bahia_banderas,1/belize,1/chihuahua,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/mexico_city,1/monterrey,1/regina,1/swift_current,1/tegucigalpa,11/galapagos,6/east-saskatchewan,6/saskatchewan,10/general","-5|s":"1/lima,1/rio_branco,1/porto_acre,5/acre","-5|n|03/09:04->11/02:02":"1/chicago,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,1/indiana/knox,1/indiana/tell_city,1/north_dakota/beulah,1/north_dakota/center,1/north_dakota/new_salem,1/knox_in,6/central,us/central,us/indiana-starke","-5|n":"1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/atikokan,jamaica,est","-4|s|04/05:24->09/07:02":"1/santiago,7/continental","-4|s|03/22:24->10/05:02":"1/asuncion","-4|s":"1/campo_grande,1/cuiaba,1/la_paz,1/manaus,5/west","-4|n|03/09:04->11/02:02":"1/detroit,1/grand_turk,1/indiana,1/indianapolis,1/iqaluit,1/kentucky,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,1/indiana/marengo,1/indiana/petersburg,1/indiana/vevay,1/indiana/vincennes,1/indiana/winamac,1/kentucky/monticello,1/fort_wayne,1/indiana/indianapolis,1/kentucky/louisville,6/eastern,us/east-indiana,us/eastern,us/michigan","-4|n|03/09:02->11/02:01":"1/havana,cuba","-4|n":"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin","-3|s":"1/argentina,1/buenos_aires,1/catamarca,1/cordoba,1/fortaleza,1/jujuy,1/mendoza,1/montevideo,1/punta_arenas,1/sao_paulo,12/palmer,12/rothera,3/stanley,1/argentina/la_rioja,1/argentina/rio_gallegos,1/argentina/salta,1/argentina/san_juan,1/argentina/san_luis,1/argentina/tucuman,1/argentina/ushuaia,1/argentina/comodrivadavia,1/argentina/buenos_aires,1/argentina/catamarca,1/argentina/cordoba,1/argentina/jujuy,1/argentina/mendoza,1/argentina/rosario,1/rosario,5/east","-3|n|03/09:04->11/02:02":"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic","-3|n":"1/araguaina,1/bahia,1/belem,1/cayenne,1/maceio,1/paramaribo,1/recife,1/santarem","-2|n|03/09:04->11/02:02":"1/miquelon","-2|n":"1/noronha,3/south_georgia,5/denoronha","-2.5|n|03/09:04->11/02:02":"1/st_johns,6/newfoundland","-1|n|03/30:01->10/25:24":"1/nuuk,1/godthab","-1|n":"3/cape_verde","-11|n":"11/midway,11/niue,11/pago_pago,11/samoa,us/samoa","-10|n":"11/honolulu,11/johnston,11/rarotonga,11/tahiti,us/hawaii,hst"},Ka=["africa","america","asia","atlantic","australia","brazil","canada","chile","europe","indian","mexico","pacific","antarctica","etc"];let De={};Object.keys(Kt).forEach(e=>{let t=e.split("|"),a={offset:Number(t[0]),hem:t[1]};t[2]&&(a.dst=t[2]),Kt[e].split(",").forEach(r=>{r=r.replace(/(^[0-9]+)\//,(i,o)=>(o=Number(o),Ka[o]+"/")),De[r]=a})});De.utc={offset:0,hem:"n"};for(let e=-14;e<=14;e+=.5){let t=e;t>0&&(t="+"+t);let a="etc/gmt"+t;De[a]={offset:e*-1,hem:"n"},a="utc/gmt"+t,De[a]={offset:e*-1,hem:"n"}}const Ga="utc",Za=()=>{if(typeof Intl>"u"||typeof Intl.DateTimeFormat>"u")return null;let e=Intl.DateTimeFormat();if(typeof e>"u"||typeof e.resolvedOptions>"u")return null;let t=e.resolvedOptions().timeZone;return t?t.toLowerCase():null},Qa=()=>{let e=Za();return e===null?Ga:e},Xa=/(-?[0-9]+)h(rs)?/i,en=/(-?[0-9]+)/,tn=/utc([\-+]?[0-9]+)/i,an=/gmt([\-+]?[0-9]+)/i,Ee=function(e){return e=Number(e),e>=-13&&e<=13?(e=e*-1,e=(e>0?"+":"")+e,"etc/gmt"+e):null},nn=function(e){let t=e.match(Xa);if(t!==null||(t=e.match(tn),t!==null))return Ee(t[1]);if(t=e.match(an),t!==null){let a=Number(t[1])*-1;return Ee(a)}return t=e.match(en),t!==null?Ee(t[1]):null};let Ne=Qa();const Gt=Object.keys(De).reduce((e,t)=>{let a=t.split("/")[1]||"";return a=a.replace(/_/g," "),e[a]=t,e},{}),rn=e=>(e=e.replace(/ time/g,""),e=e.replace(/ (standard|daylight|summer)/g,""),e=e.replace(/\b(east|west|north|south)ern/g,"$1"),e=e.replace(/\b(africa|america|australia)n/g,"$1"),e=e.replace(/\beuropean/g,"europe"),e=e.replace(/islands/g,"island"),e),et=(e,t)=>{if(!e)return t.hasOwnProperty(Ne)||(console.warn(`Unrecognized IANA id '${Ne}'. Setting fallback tz to UTC.`),Ne="utc"),Ne;typeof e!="string"&&console.error("Timezone must be a string - recieved: '",e,`'
`);let a=e.trim();if(a=a.toLowerCase(),t.hasOwnProperty(a)===!0||(a=rn(a),t.hasOwnProperty(a)===!0))return a;if(Gt.hasOwnProperty(a)===!0)return Gt[a];if(/[0-9]/.test(a)===!0){let n=nn(a);if(n)return n}throw new Error("Spacetime: Cannot find timezone named: '"+e+"'. Please enter an IANA timezone id.")};function Ce(e){return e%4===0&&e%100!==0||e%400===0}function Aa(e){return Object.prototype.toString.call(e)==="[object Date]"&&!isNaN(e.valueOf())}function on(e){return Object.prototype.toString.call(e)==="[object Array]"}function Z(e){return Object.prototype.toString.call(e)==="[object Object]"}function sn(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function c(e,t=2){let a="0";return e=e+"",e.length>=t?e:new Array(t-e.length+1).join(a)+e}function un(e){return e?e[0].toUpperCase()+e.substr(1):""}function W(e){let t=e%10,a=e%100;return t===1&&a!==11?e+"st":t===2&&a!==12?e+"nd":t===3&&a!==13?e+"rd":e+"th"}function ke(e){return e=String(e),e=e.replace(/([0-9])(st|nd|rd|th)$/i,"$1"),parseInt(e,10)}function fe(e=""){return e=e.toLowerCase().trim(),e=e.replace(/ies$/,"y"),e=e.replace(/s$/,""),e=e.replace(/-/g,""),e==="day"||e==="days"?"date":e==="min"||e==="mins"?"minute":e}function ve(e){return typeof e=="number"?e:Aa(e)?e.getTime():e.epoch||e.epoch===0?e.epoch:null}function se(e,t){return Z(e)===!1?t.clone().set(e):e}function _e(e,t=""){const a=e>0?"+":"-",n=Math.abs(e),r=c(parseInt(""+n,10)),i=c(n%1*60);return`${a}${r}${t}${i}`}const Mt={year:new Date().getFullYear(),month:0,date:1},ln=(e,t,a)=>{if(t.length===0)return e;let n=["year","month","date","hour","minute","second","millisecond"];for(let r=0;r<n.length;r++){let i=t[r]||a[n[r]]||Mt[n[r]]||0;e=e[n[r]](i)}return e},dn=(e,t,a)=>{if(Object.keys(t).length===0)return e;t=Object.assign({},Mt,a,t);let n=Object.keys(t);for(let r=0;r<n.length;r++){let i=n[r];if(e[i]===void 0||typeof e[i]!="function"||t[i]===null||t[i]===void 0||t[i]==="")continue;let o=t[i]||a[i]||Mt[i]||0;e=e[i](o)}return e},hn=function(e,t){return t>0&&t<25e8&&e.silent===!1&&(console.warn("  - Warning: You are setting the date to January 1970."),console.warn("       -   did input seconds instead of milliseconds?")),e.epoch=t,e},mn={parseArray:ln,parseObject:dn,parseNumber:hn},ne=function(e){return e.epoch=Date.now(),Object.keys(e._today||{}).forEach(t=>{typeof e[t]=="function"&&(e=e[t](e._today[t]))}),e},tt={now:e=>ne(e),today:e=>ne(e),tonight:e=>(e=ne(e),e=e.hour(18),e),tomorrow:e=>(e=ne(e),e=e.add(1,"day"),e=e.startOf("day"),e),yesterday:e=>(e=ne(e),e=e.subtract(1,"day"),e=e.startOf("day"),e),christmas:e=>{let t=ne(e).year();return e=e.set([t,11,25,18,0,0]),e},"new years":e=>{let t=ne(e).year();return e=e.set([t,11,31,18,0,0]),e}};tt["new years eve"]=tt["new years"];const cn=function(e){return e=e.replace(/\b(mon|tues?|wed|wednes|thur?s?|fri|sat|satur|sun)(day)?\b/i,""),e=e.replace(/([0-9])(th|rd|st|nd)/,"$1"),e=e.replace(/,/g,""),e=e.replace(/ +/g," ").trim(),e};let w={millisecond:1};w.second=1e3;w.minute=6e4;w.hour=36e5;w.day=864e5;w.date=w.day;w.month=864e5*29.5;w.week=6048e5;w.year=3154e7;Object.keys(w).forEach(e=>{w[e+"s"]=w[e]});const Pe=(e,t,a,n,r)=>{let i=e.d[a]();if(i===t)return;let o=r===null?null:e.d[r](),s=e.epoch,u=t-i;e.epoch+=w[n]*u,n==="day"&&Math.abs(u)>28&&t<28&&(e.epoch+=w.hour),r!==null&&o!==e.d[r]()&&(e.epoch=s);const m=w[n]/2;for(;e.d[a]()<t;)e.epoch+=m;for(;e.d[a]()>t;)e.epoch-=m;r!==null&&o!==e.d[r]()&&(e.epoch=s)},ot={year:{valid:e=>e>-4e3&&e<4e3,walkTo:(e,t)=>Pe(e,t,"getFullYear","year",null)},month:{valid:e=>e>=0&&e<=11,walkTo:(e,t)=>{let a=e.d,n=a.getMonth(),r=e.epoch,i=a.getFullYear();if(n===t)return;let o=t-n;for(e.epoch+=w.day*(o*28),i!==e.d.getFullYear()&&(e.epoch=r);e.d.getMonth()<t;)e.epoch+=w.day;for(;e.d.getMonth()>t;)e.epoch-=w.day}},date:{valid:e=>e>0&&e<=31,walkTo:(e,t)=>Pe(e,t,"getDate","day","getMonth")},hour:{valid:e=>e>=0&&e<24,walkTo:(e,t)=>Pe(e,t,"getHours","hour","getDate")},minute:{valid:e=>e>=0&&e<60,walkTo:(e,t)=>Pe(e,t,"getMinutes","minute","getHours")},second:{valid:e=>e>=0&&e<60,walkTo:(e,t)=>{e.epoch=e.seconds(t).epoch}},millisecond:{valid:e=>e>=0&&e<1e3,walkTo:(e,t)=>{e.epoch=e.milliseconds(t).epoch}}},p=(e,t)=>{let a=Object.keys(ot),n=e.clone();for(let r=0;r<a.length;r++){let i=a[r],o=t[i];if(o===void 0&&(o=n[i]()),typeof o=="string"&&(o=parseInt(o,10)),!ot[i].valid(o)){e.epoch=null,e.silent===!1&&console.warn("invalid "+i+": "+o);return}ot[i].walkTo(e,o)}},he=[31,28,31,30,31,30,31,31,30,31,30,31];let ze=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Se=["january","february","march","april","may","june","july","august","september","october","november","december"];function fn(){const e={sep:8};for(let t=0;t<ze.length;t++)e[ze[t]]=t;for(let t=0;t<Se.length;t++)e[Se[t]]=t;return e}function $e(){return ze}function yn(){return Se}function Ca(){return fn()}function pn(e){ze=e.short||ze,Se=e.long||Se}const qa=(e,t)=>{if(!t)return e;t=t.trim().toLowerCase();let a=0;if(/^[+-]?[0-9]{2}:[0-9]{2}$/.test(t)&&(/:00/.test(t)===!0&&(t=t.replace(/:00/,"")),/:30/.test(t)===!0&&(t=t.replace(/:30/,".5"))),/^[+-]?[0-9]{4}$/.test(t)&&(t=t.replace(/30$/,".5")),a=parseFloat(t),Math.abs(a)>100&&(a=a/100),a===0||t==="Z"||t==="z")return e.tz="etc/gmt",e;a*=-1,a>=0&&(a="+"+a);let n="etc/gmt"+a;return e.timezones[n]&&(e.tz=n),e},gn=function(e=""){return e=String(e),e.length>3?e=e.substring(0,3):e.length===1?e=e+"00":e.length===2&&(e=e+"0"),Number(e)||0},x=(e,t="")=>{t=t.replace(/^\s+/,"").toLowerCase();let a=t.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:.]?([0-9]{1,4})?/);if(a!==null){let[,n,r,i,o]=a;if(n=Number(n),n<0||n>24||(r=Number(r),a[2].length<2||r<0||r>59))return e.startOf("day");e=e.hour(n),e=e.minute(r),e=e.seconds(i||0),e=e.millisecond(gn(o));let s=t.match(/[0-9] ?(am|pm)\b/);return s!==null&&s[1]&&(e=e.ampm(s[1])),e}if(a=t.match(/([0-9]+) ?(am|pm)/),a!==null&&a[1]){let n=Number(a[1]);return n>12||n<1?e.startOf("day"):(e=e.hour(a[1]||0),e=e.ampm(a[2]),e=e.startOf("hour"),e)}return e=e.startOf("day"),e};let Zt=Ca();const T=e=>{if(he.hasOwnProperty(e.month)!==!0)return!1;if(e.month===1)return Ce(e.year)&&e.date<=29?!0:e.date<=28;let t=he[e.month]||0;return e.date<=t},J=(e="",t)=>{if(e=e.trim(),/^'[0-9][0-9]$/.test(e)===!0){let n=Number(e.replace(/'/,""));return n>50?1900+n:2e3+n}let a=parseInt(e,10);return!a&&t&&(a=t.year),a=a||new Date().getFullYear(),a},X=function(e){return e=e.toLowerCase().trim(),e==="sept"?Zt.sep:Zt[e]},wn=[{reg:/^(-?0{0,2}[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9-+:]+)?$/i,parse:(e,t)=>{let a={year:t[1],month:parseInt(t[2],10)-1,date:t[3]};return T(a)===!1?(e.epoch=null,e):(qa(e,t[5]),p(e,a),e=x(e,t[4]),e)}},{reg:/^([0-9]{4})[\-/. ]([0-9]{1,2})[\-/. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let a={year:t[1],month:parseInt(t[2],10)-1,date:parseInt(t[3],10)};return a.month>=12&&(a.date=parseInt(t[2],10),a.month=parseInt(t[3],10)-1),T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^([0-9]{4})[\-/. ]([a-z]+)[\-/. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let a={year:J(t[1],e._today),month:X(t[2]),date:ke(t[3]||"")};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}}],bn=[{reg:/^([0-9]{1,2})[-/.]([0-9]{1,2})[\-/.]?([0-9]{4})?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2} ?(am|pm|gmt))?$/i,parse:(e,t)=>{let a=parseInt(t[1],10)-1,n=parseInt(t[2],10);(e.british||a>=12)&&(n=parseInt(t[1],10),a=parseInt(t[2],10)-1);let r={date:n,month:a,year:J(t[3],e._today)||new Date().getFullYear()};return T(r)===!1?(e.epoch=null,e):(p(e,r),e=x(e,t[4]),e)}},{reg:/^([a-z]+)[\-/. ]([0-9]{1,2})[\-/. ]?([0-9]{4}|'[0-9]{2})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let a={year:J(t[3],e._today),month:X(t[1]),date:ke(t[2]||"")};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,parse:(e,t)=>{let a={year:J(t[3],e._today),month:X(t[1]),date:ke(t[2]||"")};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^([a-z]+) ([0-9]{1,2}) ([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2})( \+[0-9]{4})?( [0-9]{4})?$/i,parse:(e,t)=>{let[,a,n,r,i,o]=t,s={year:J(o,e._today),month:X(a),date:ke(n||"")};return T(s)===!1?(e.epoch=null,e):(p(e,s),e=qa(e,i),e=x(e,r),e)}}],kn=[{reg:/^([0-9]{1,2})[-/]([a-z]+)[\-/]?([0-9]{4})?$/i,parse:(e,t)=>{let a={year:J(t[3],e._today),month:X(t[2]),date:ke(t[1]||"")};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^([0-9]{1,2})( [a-z]+)( [0-9]{4}| '[0-9]{2})? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2} ?(am|pm|gmt))?$/i,parse:(e,t)=>{let a={year:J(t[3],e._today),month:X(t[2]),date:ke(t[1])};return!a.month||T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^([0-9]{1,2})[. \-/]([a-z]+)[. \-/]([0-9]{4})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let a={date:Number(t[1]),month:X(t[2]),year:Number(t[3])};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=e.startOf("day"),e=x(e,t[4]),e)}}],Dn=[{reg:/^([0-9]{4})[\-/]([0-9]{2})$/,parse:(e,t)=>{let a={year:t[1],month:parseInt(t[2],10)-1,date:1};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^([a-z]+) ([0-9]{4})$/i,parse:(e,t)=>{let a={year:J(t[2],e._today),month:X(t[1]),date:e._today.date||1};return T(a)===!1?(e.epoch=null,e):(p(e,a),e=x(e,t[4]),e)}},{reg:/^(q[0-9])( of)?( [0-9]{4})?/i,parse:(e,t)=>{let a=t[1]||"";e=e.quarter(a);let n=t[3]||"";return n&&(n=n.trim(),e=e.year(n)),e}},{reg:/^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,parse:(e,t)=>{let a=t[1]||"";e=e.season(a);let n=t[3]||"";return n&&(n=n.trim(),e=e.year(n)),e}},{reg:/^[0-9,]+ ?b\.?c\.?$/i,parse:(e,t)=>{let a=t[0]||"";a=a.replace(/^([0-9,]+) ?b\.?c\.?$/i,"-$1");let n=new Date,r={year:parseInt(a.trim(),10),month:n.getMonth(),date:n.getDate()};return T(r)===!1?(e.epoch=null,e):(p(e,r),e=x(e),e)}},{reg:/^[0-9,]+ ?(a\.?d\.?|c\.?e\.?)$/i,parse:(e,t)=>{let a=t[0]||"";a=a.replace(/,/g,"");let n=new Date,r={year:parseInt(a.trim(),10),month:n.getMonth(),date:n.getDate()};return T(r)===!1?(e.epoch=null,e):(p(e,r),e=x(e),e)}},{reg:/^[0-9]{4}( ?a\.?d\.?)?$/i,parse:(e,t)=>{let a=e._today;a.month&&!a.date&&(a.date=1);let n=new Date,r={year:J(t[0],a),month:a.month||n.getMonth(),date:a.date||n.getDate()};return T(r)===!1?(e.epoch=null,e):(p(e,r),e=x(e),e)}}],st=[].concat(wn,bn,kn,Dn),vn=function(e,t,a){for(let n=0;n<st.length;n++){let r=t.match(st[n].reg);if(r){let i=st[n].parse(e,r,a);if(i!==null&&i.isValid())return i}}return e.silent===!1&&console.warn("Warning: couldn't parse date-string: '"+t+"'"),e.epoch=null,e},{parseArray:$n,parseObject:Qt,parseNumber:On}=mn,Xt={year:new Date().getFullYear(),month:0,date:1},Ea=(e,t)=>{let a=e._today||Xt;if(typeof t=="number")return On(e,t);if(e.epoch=Date.now(),e._today&&Z(e._today)&&Object.keys(e._today).length>0){let n=Qt(e,a,Xt);n.isValid()&&(e.epoch=n.epoch)}return t==null||t===""?e:Aa(t)===!0?(e.epoch=t.getTime(),e):on(t)===!0?(e=$n(e,t,a),e):Z(t)===!0?t.epoch?(e.epoch=t.epoch,e.tz=t.tz,e):(e=Qt(e,t,a),e):typeof t!="string"?e:(t=cn(t),tt.hasOwnProperty(t)===!0?(e=tt[t](e),e):vn(e,t))};let _t=["sun","mon","tue","wed","thu","fri","sat"],xt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function Ve(){return _t}function at(){return xt}function jn(e){_t=e.short||_t,xt=e.long||xt}const ea={mo:1,tu:2,we:3,th:4,fr:5,sa:6,su:7,tues:2,weds:3,wedn:3,thur:4,thurs:4};let Na=!0;function Mn(){return Na}function _n(e){Na=e}const ta=e=>{let t=e.timezone().current.offset;return t?_e(t,":"):"Z"},F=e=>Mn()?un(e):e,xn=e=>e>=0?c(e,4):(e=Math.abs(e),"-"+c(e,4)),we={day:e=>F(e.dayName()),"day-short":e=>F(Ve()[e.day()]),"day-number":e=>e.day(),"day-ordinal":e=>W(e.day()),"day-pad":e=>c(e.day()),date:e=>e.date(),"date-ordinal":e=>W(e.date()),"date-pad":e=>c(e.date()),month:e=>F(e.monthName()),"month-short":e=>F($e()[e.month()]),"month-number":e=>e.month(),"month-ordinal":e=>W(e.month()),"month-pad":e=>c(e.month()),"iso-month":e=>c(e.month()+1),year:e=>{let t=e.year();return t>0?t:(t=Math.abs(t),t+" BC")},"year-short":e=>{let t=e.year();return t>0?`'${String(e.year()).substr(2,4)}`:(t=Math.abs(t),t+" BC")},"iso-year":e=>{let t=e.year(),a=t<0,n=c(Math.abs(t),4);return a&&(n=c(n,6),n="-"+n),n},time:e=>e.time(),"time-24":e=>`${e.hour24()}:${c(e.minute())}`,hour:e=>e.hour12(),"hour-pad":e=>c(e.hour12()),"hour-24":e=>e.hour24(),"hour-24-pad":e=>c(e.hour24()),minute:e=>e.minute(),"minute-pad":e=>c(e.minute()),second:e=>e.second(),"second-pad":e=>c(e.second()),millisecond:e=>e.millisecond(),"millisecond-pad":e=>c(e.millisecond(),3),ampm:e=>e.ampm(),AMPM:e=>e.ampm().toUpperCase(),quarter:e=>"Q"+e.quarter(),season:e=>e.season(),era:e=>e.era(),json:e=>e.json(),timezone:e=>e.timezone().name,offset:e=>ta(e),numeric:e=>`${e.year()}/${c(e.month()+1)}/${c(e.date())}`,"numeric-us":e=>`${c(e.month()+1)}/${c(e.date())}/${e.year()}`,"numeric-uk":e=>`${c(e.date())}/${c(e.month()+1)}/${e.year()}`,"mm/dd":e=>`${c(e.month()+1)}/${c(e.date())}`,iso:e=>{let t=e.format("iso-year"),a=c(e.month()+1),n=c(e.date()),r=c(e.h24()),i=c(e.minute()),o=c(e.second()),s=c(e.millisecond(),3),u=ta(e);return`${t}-${a}-${n}T${r}:${i}:${o}.${s}${u}`},"iso-short":e=>{let t=c(e.month()+1),a=c(e.date());return`${xn(e.year())}-${t}-${a}`},"iso-utc":e=>new Date(e.epoch).toISOString(),nice:e=>`${$e()[e.month()]} ${W(e.date())}, ${e.time()}`,"nice-24":e=>`${$e()[e.month()]} ${W(e.date())}, ${e.hour24()}:${c(e.minute())}`,"nice-year":e=>`${$e()[e.month()]} ${W(e.date())}, ${e.year()}`,"nice-day":e=>`${Ve()[e.day()]} ${F($e()[e.month()])} ${W(e.date())}`,"nice-full":e=>`${e.dayName()} ${F(e.monthName())} ${W(e.date())}, ${e.time()}`,"nice-full-24":e=>`${e.dayName()} ${F(e.monthName())} ${W(e.date())}, ${e.hour24()}:${c(e.minute())}`},aa={"day-name":"day","month-name":"month","iso 8601":"iso","time-h24":"time-24","time-12":"time","time-h12":"time",tz:"timezone","day-num":"day-number","month-num":"month-number","month-iso":"iso-month","year-iso":"iso-year","nice-short":"nice","nice-short-24":"nice-24",mdy:"numeric-us",dmy:"numeric-uk",ymd:"numeric","yyyy/mm/dd":"numeric","mm/dd/yyyy":"numeric-us","dd/mm/yyyy":"numeric-us","little-endian":"numeric-uk","big-endian":"numeric","day-nice":"nice-day"};Object.keys(aa).forEach(e=>we[e]=we[aa[e]]);const ut=(e,t="")=>{if(e.isValid()!==!0)return"";if(we.hasOwnProperty(t)){let a=we[t](e)||"";return t!=="json"&&(a=String(a),t.toLowerCase()!=="ampm"&&(a=F(a))),a}if(t.indexOf("{")!==-1){let a=/\{(.+?)\}/g;return t=t.replace(a,(n,r)=>{if(r=r.trim(),r!=="AMPM"&&(r=r.toLowerCase()),we.hasOwnProperty(r)){let i=String(we[r](e));return r.toLowerCase()!=="ampm"?F(i):i}return""}),t}return e.format("iso-short")},nt={G:e=>e.era(),GG:e=>e.era(),GGG:e=>e.era(),GGGG:e=>e.era()==="AD"?"Anno Domini":"Before Christ",y:e=>e.year(),yy:e=>c(Number(String(e.year()).substr(2,4))),yyy:e=>e.year(),yyyy:e=>e.year(),yyyyy:e=>"0"+e.year(),Q:e=>e.quarter(),QQ:e=>e.quarter(),QQQ:e=>e.quarter(),QQQQ:e=>e.quarter(),M:e=>e.month()+1,MM:e=>c(e.month()+1),MMM:e=>e.format("month-short"),MMMM:e=>e.format("month"),w:e=>e.week(),ww:e=>c(e.week()),d:e=>e.date(),dd:e=>c(e.date()),D:e=>e.dayOfYear(),DD:e=>c(e.dayOfYear()),DDD:e=>c(e.dayOfYear(),3),E:e=>e.format("day-short"),EE:e=>e.format("day-short"),EEE:e=>e.format("day-short"),EEEE:e=>e.format("day"),EEEEE:e=>e.format("day")[0],e:e=>e.day(),ee:e=>e.day(),eee:e=>e.format("day-short"),eeee:e=>e.format("day"),eeeee:e=>e.format("day")[0],a:e=>e.ampm().toUpperCase(),aa:e=>e.ampm().toUpperCase(),aaa:e=>e.ampm().toUpperCase(),aaaa:e=>e.ampm().toUpperCase(),h:e=>e.h12(),hh:e=>c(e.h12()),H:e=>e.hour(),HH:e=>c(e.hour()),m:e=>e.minute(),mm:e=>c(e.minute()),s:e=>e.second(),ss:e=>c(e.second()),SSS:e=>c(e.millisecond(),3),A:e=>e.epoch-e.startOf("day").epoch,z:e=>e.timezone().name,zz:e=>e.timezone().name,zzz:e=>e.timezone().name,zzzz:e=>e.timezone().name,Z:e=>_e(e.timezone().current.offset),ZZ:e=>_e(e.timezone().current.offset),ZZZ:e=>_e(e.timezone().current.offset),ZZZZ:e=>_e(e.timezone().current.offset,":")},U=(e,t,a)=>{let n=e,r=t;for(let i=0;i<a;i+=1)nt[n]=nt[r],n+=e,r+=t};U("q","Q",4);U("L","M",4);U("Y","y",4);U("c","e",4);U("k","H",2);U("K","h",2);U("S","s",2);U("v","z",4);U("V","Z",4);const Tn=function(e){for(let t=0;t<e.length;t+=1)if(e[t]==="'")for(let a=t+1;a<e.length;a+=1){if(e[a]&&(e[t]+=e[a]),e[a]==="'"){e[a]=null;break}e[a]=null}return e.filter(t=>t)},zn=function(e){for(let t=0;t<e.length;t+=1){let a=e[t];for(let n=t+1;n<e.length&&e[n]===a;n+=1)e[t]+=e[n],e[n]=null}return e=e.filter(t=>t),e=e.map(t=>(t==="''"&&(t="'"),t)),e},Sn=(e,t)=>{let a=t.split("");return a=Tn(a),a=zn(a),a.reduce((n,r)=>(nt[r]!==void 0?n+=nt[r](e)||"":(/^'.+'$/.test(r)&&(r=r.replace(/'/g,"")),n+=r),n),"")},Vn=["year","season","quarter","month","week","day","quarterHour","hour","minute"],na=function(e,t){let a=e.clone().startOf(t),r=e.clone().endOf(t).epoch-a.epoch,i=(e.epoch-a.epoch)/r;return parseFloat(i.toFixed(2))},An=(e,t)=>{if(t)return t=fe(t),na(e,t);let a={};return Vn.forEach(n=>{a[n]=na(e,n)}),a},Cn=(e,t)=>{let a=e.progress();return t=fe(t),t==="quarterhour"&&(t="quarterHour"),a[t]!==void 0?(a[t]>.5&&(e=e.add(1,t)),e=e.startOf(t)):e.silent===!1&&console.warn("no known unit '"+t+"'"),e},ra=(e,t,a)=>{let n=0;for(e=e.clone();e.isBefore(t);)e=e.add(1,a),n+=1;return e.isAfter(t,a)&&(n-=1),n},lt=(e,t,a)=>e.isBefore(t)?ra(e,t,a):ra(t,e,a)*-1,qn=(e,t)=>{let a=t.year()-e.year();return e=e.year(t.year()),e.isAfter(t)&&(a-=1),a},En=function(e,t){let a=t.epoch-e.epoch,n={milliseconds:a,seconds:parseInt(a/1e3,10)};n.minutes=parseInt(n.seconds/60,10),n.hours=parseInt(n.minutes/60,10);let r=e.clone();return n.years=qn(r,t),r=e.add(n.years,"year"),n.months=n.years*12,r=e.add(n.months,"month"),n.months+=lt(r,t,"month"),n.quarters=n.years*4,n.quarters+=parseInt(n.months%12/3,10),n.weeks=n.years*52,r=e.add(n.weeks,"week"),n.weeks+=lt(r,t,"week"),n.days=n.weeks*7,r=e.add(n.days,"day"),n.days+=lt(r,t,"day"),n},Nn=function(e){return Object.keys(e).forEach(t=>{e[t]*=-1}),e},Pn=function(e,t,a){t=se(t,e);let n=!1;if(e.isAfter(t)){let i=e;e=t,t=i,n=!0}let r=En(e,t);return n&&(r=Nn(r)),a?(a=fe(a),/s$/.test(a)!==!0&&(a+="s"),a==="dates"&&(a="days"),r[a]):r},ye=e=>Math.abs(e)||0,Yn=function(e){let t="P";return t+=ye(e.years)+"Y",t+=ye(e.months)+"M",t+=ye(e.days)+"DT",t+=ye(e.hours)+"H",t+=ye(e.minutes)+"M",t+=ye(e.seconds)+"S",t};function Ln(e,t){const a=e.isBefore(t),n=a?t:e;let r=a?e:t;r=r.clone();const i={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return Object.keys(i).forEach(o=>{if(r.isSame(n,o))return;let s=r.diff(n,o);r=r.add(s,o),i[o]=s}),a&&Object.keys(i).forEach(o=>{i[o]!==0&&(i[o]*=-1)}),i}let V={second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years"};function ia(e){return V[e]||""}function Bn(e={}){V={second:e.second||V.second,seconds:e.seconds||V.seconds,minute:e.minute||V.minute,minutes:e.minutes||V.minutes,hour:e.hour||V.hour,hours:e.hours||V.hours,day:e.day||V.day,days:e.days||V.days,month:e.month||V.month,months:e.months||V.months,year:e.year||V.year,years:e.years||V.years}}let Tt="past",zt="future",St="present",Vt="now",At="almost",Ct="over",qt=e=>`${e} ago`,Et=e=>`in ${e}`;function dt(e){return qt(e)}function ht(e){return Et(e)}function In(){return Tt}function Hn(){return zt}function Wn(){return St}function mt(){return Vt}function Rn(){return At}function Fn(){return Ct}function Jn(e){qt=e.pastDistance||qt,Et=e.futureDistance||Et,Tt=e.past||Tt,zt=e.future||zt,St=e.present||St,Vt=e.now||Vt,At=e.almost||At,Ct=e.over||Ct}const oa={months:{almost:10,over:4},days:{almost:25,over:10},hours:{almost:20,over:8},minutes:{almost:50,over:20},seconds:{almost:50,over:20}};function sa(e,t){return e===1?e+" "+ia(t.slice(0,-1)):e+" "+ia(t)}const Un=function(e){let t=null,a=null,n=[],r=[];return Object.keys(e).forEach((i,o,s)=>{const u=Math.abs(e[i]);if(u===0)return;n.push(u+i[0]);const m=sa(u,i);if(r.push(m),!t){if(t=m,a=m,o>4)return;const O=s[o+1],L=Math.abs(e[O]);L>oa[O].almost?(t=sa(u+1,i),a=Rn()+" "+t):L>oa[O].over&&(a=Fn()+" "+m)}}),{qualified:a,rounded:t,abbreviated:n,englishValues:r}},Kn=(e,t)=>{t=se(t,e);const a=Ln(e,t);if(Object.keys(a).every(L=>!a[L])===!0)return{diff:a,rounded:mt(),qualified:mt(),precise:mt(),abbreviated:[],iso:"P0Y0M0DT0H0M0S",direction:Wn()};let r,i=Hn(),{rounded:o,qualified:s,englishValues:u,abbreviated:m}=Un(a);r=u.splice(0,2).join(", "),e.isAfter(t)===!0?(o=dt(o),s=dt(s),r=dt(r),i=In()):(o=ht(o),s=ht(s),r=ht(r));let O=Yn(a);return{diff:a,rounded:o,qualified:s,precise:r,abbreviated:m,iso:O,direction:i}},Gn=[["spring",2,1],["summer",5,1],["fall",8,1],["autumn",8,1],["winter",11,1]],Zn=[["fall",2,1],["autumn",2,1],["winter",5,1],["spring",8,1],["summer",11,1]],N={north:Gn,south:Zn},ue=[null,[0,1],[3,1],[6,1],[9,1]],de={second:e=>(p(e,{millisecond:0}),e),minute:e=>(p(e,{second:0,millisecond:0}),e),quarterhour:e=>{let t=e.minutes();return t>=45?e=e.minutes(45):t>=30?e=e.minutes(30):t>=15?e=e.minutes(15):e=e.minutes(0),p(e,{second:0,millisecond:0}),e},hour:e=>(p(e,{minute:0,second:0,millisecond:0}),e),day:e=>(p(e,{hour:0,minute:0,second:0,millisecond:0}),e),week:e=>{let t=e.clone();return e=e.day(e._weekStart),e.isAfter(t)&&(e=e.subtract(1,"week")),p(e,{hour:0,minute:0,second:0,millisecond:0}),e},month:e=>(p(e,{date:1,hour:0,minute:0,second:0,millisecond:0}),e),quarter:e=>{let t=e.quarter();return ue[t]&&p(e,{month:ue[t][0],date:ue[t][1],hour:0,minute:0,second:0,millisecond:0}),e},season:e=>{let t=e.season(),a="north";e.hemisphere()==="South"&&(a="south");for(let n=0;n<N[a].length;n++)if(N[a][n][0]===t){let r=e.year();return t==="winter"&&e.month()<3&&(r-=1),p(e,{year:r,month:N[a][n][1],date:N[a][n][2],hour:0,minute:0,second:0,millisecond:0}),e}return e},year:e=>(p(e,{month:0,date:1,hour:0,minute:0,second:0,millisecond:0}),e),decade:e=>{e=e.startOf("year");let t=e.year(),a=parseInt(t/10,10)*10;return e=e.year(a),e},century:e=>{e=e.startOf("year");let t=e.year(),a=parseInt(t/100,10)*100;return e=e.year(a),e}};de.date=de.day;const Qn=(e,t)=>{let a=e.clone();return t=fe(t),de[t]?de[t](a):t==="summer"||t==="winter"?(a=a.season(t),de.season(a)):a},Xn=(e,t)=>{let a=e.clone();return t=fe(t),de[t]&&(a=de[t](a),a=a.add(1,t),a=a.subtract(1,"millisecond")),a},er=function(e){return!!(Ve().find(t=>t===e)||at().find(t=>t===e))},tr=function(e,t,a,n=1){if(!t||!a)return[];if(t=fe(t),a=e.clone().set(a),e.isAfter(a)){let o=e;e=a,a=o}if(e.diff(a,t)<n)return[];let r=e.clone();er(t)?(r=r.next(t),t="week"):r.startOf(t).isBefore(e)&&(r=r.next(t));let i=[];for(;r.isBefore(a);)i.push(r),r=r.add(n,t);return i},ar=e=>e?e.split("->"):[],nr=e=>(e=e[0].toUpperCase()+e.substr(1),e=e.replace(/[/_-]([a-z])/gi,t=>t.toUpperCase()),e=e.replace(/_(of|es)_/i,t=>t.toLowerCase()),e=e.replace(/\/gmt/i,"/GMT"),e=e.replace(/\/Dumontdurville$/i,"/DumontDUrville"),e=e.replace(/\/Mcmurdo$/i,"/McMurdo"),e=e.replace(/\/Port-au-prince$/i,"/Port-au-Prince"),e),Oe=e=>{let t=e.timezones,a=e.tz;if(t.hasOwnProperty(a)===!1&&(a=et(e.tz,t)),a===null)return e.silent===!1&&console.warn("Warn: could not find given or local timezone - '"+e.tz+"'"),{current:{epochShift:0}};let n=t[a],r={name:nr(a),hasDst:!!n.dst,default_offset:n.offset,hemisphere:n.hem==="s"?"South":"North",current:{}};if(r.hasDst){let s=ar(n.dst);r.change={start:s[0],back:s[1]}}let i=n.offset,o=i;return r.hasDst===!0&&(r.hemisphere==="North"?o=i-1:o=n.offset+1),r.hasDst===!1?(r.current.offset=i,r.current.isDST=!1):Va(e.epoch,r.change.start,r.change.back,i,o)===!0?(r.current.offset=i,r.current.isDST=r.hemisphere==="North"):(r.current.offset=o,r.current.isDST=r.hemisphere==="South"),r},rr=["century","decade","year","month","date","day","hour","minute","second","millisecond"],ee={set:function(e,t){let a=this.clone();return a=Ea(a,e),t&&(this.tz=et(t)),a},timezone:function(){return Oe(this)},isDST:function(){return Oe(this).current.isDST},hasDST:function(){return Oe(this).hasDst},offset:function(){return Oe(this).current.offset*60},hemisphere:function(){return Oe(this).hemisphere},format:function(e){return ut(this,e)},unixFmt:function(e){return Sn(this,e)},startOf:function(e){return Qn(this,e)},endOf:function(e){return Xn(this,e)},leapYear:function(){let e=this.year();return Ce(e)},progress:function(e){return An(this,e)},nearest:function(e){return Cn(this,e)},diff:function(e,t){return Pn(this,e,t)},since:function(e){return e||(e=this.clone().set()),Kn(this,e)},next:function(e){return this.add(1,e).startOf(e)},last:function(e){return this.subtract(1,e).startOf(e)},isValid:function(){return!this.epoch&&this.epoch!==0?!1:!isNaN(this.d.getTime())},goto:function(e){let t=this.clone();return t.tz=et(e,t.timezones),t},every:function(e,t,a){if(typeof e=="object"&&typeof t=="string"){let n=t;t=e,e=n}return tr(this,e,t,a)},isAwake:function(){let e=this.hour();return!(e<8||e>22)},isAsleep:function(){return!this.isAwake()},daysInMonth:function(){switch(this.month()){case 0:return 31;case 1:return this.leapYear()?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:return 31;case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;case 11:return 31;default:throw new Error("Invalid Month state.")}},log:function(){return console.log(""),console.log(ut(this,"nice-short")),this},logYear:function(){return console.log(""),console.log(ut(this,"full-short")),this},json:function(){return rr.reduce((e,t)=>(e[t]=this[t](),e),{})},debug:function(){let e=this.timezone(),t=this.format("MM")+" "+this.format("date-ordinal")+" "+this.year();return t+=`
     - `+this.format("time"),console.log(`

`,t+`
     - `+e.name+" ("+e.current.offset+")"),this},from:function(e){return e=this.clone().set(e),e.since(this)},fromNow:function(){return this.clone().set(Date.now()).since(this)},weekStart:function(e){if(typeof e=="number")return this._weekStart=e,this;if(typeof e=="string"){e=e.toLowerCase().trim();let t=Ve().indexOf(e);t===-1&&(t=at().indexOf(e)),t===-1&&(t=1),this._weekStart=t}else console.warn("Spacetime Error: Cannot understand .weekStart() input:",e);return this}};ee.inDST=ee.isDST;ee.round=ee.nearest;ee.each=ee.every;const K=e=>(typeof e=="string"&&(e=parseInt(e,10)),e),ct=["year","month","date","hour","minute","second","millisecond"],Wt=(e,t,a)=>{let n=ct.indexOf(a),r=ct.slice(n,ct.length);for(let i=0;i<r.length;i++){let o=t[r[i]]();e[r[i]](o)}return e},ae=function(e,t,a,n){return a===!0&&e.isBefore(t)?e=e.add(1,n):a===!1&&e.isAfter(t)&&(e=e.minus(1,n)),e},ir=function(e,t){t=K(t);let n=e.millisecond()-t;return e.epoch-n},or=function(e,t,a){t=K(t);let n=e.clone(),i=(e.second()-t)*w.second;return e.epoch=e.epoch-i,e=ae(e,n,a,"minute"),e.epoch},ua=function(e,t,a){t=K(t);let n=e.clone(),i=(e.minute()-t)*w.minute;return e.epoch-=i,Wt(e,n,"second"),e=ae(e,n,a,"hour"),e.epoch},ft=function(e,t,a){t=K(t),t>=24?t=24:t<0&&(t=0);let n=e.clone(),r=e.hour()-t,i=r*w.hour;return e.epoch-=i,e.date()!==n.date()&&(e=n.clone(),r>1&&(r-=1),r<1&&(r+=1),i=r*w.hour,e.epoch-=i),p(e,{hour:t}),Wt(e,n,"minute"),e=ae(e,n,a,"day"),e.epoch},sr=function(e,t,a){let n=t.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);if(!n){if(n=t.match(/([0-9]{1,2}) ?(am|pm)/),!n)return e.epoch;n.splice(2,0,"0"),n.splice(3,0,"")}let r=!1,i=parseInt(n[1],10),o=parseInt(n[2],10);o>=60&&(o=59),i>12&&(r=!0),r===!1&&(n[4]==="am"&&i===12&&(i=0),n[4]==="pm"&&i<12&&(i+=12)),n[3]=n[3]||"",n[3]=n[3].replace(/:/,"");let s=parseInt(n[3],10)||0,u=e.clone();return e=e.hour(i),e=e.minute(o),e=e.second(s),e=e.millisecond(0),e=ae(e,u,a,"day"),e.epoch},ur=function(e,t,a){if(t=K(t),t>28){let r=e.month(),i=he[r];r===1&&t===29&&Ce(e.year())&&(i=29),t>i&&(t=i)}t<=0&&(t=1);let n=e.clone();return p(e,{date:t}),e=ae(e,n,a,"month"),e.epoch},lr=function(e,t,a){typeof t=="string"&&(t==="sept"&&(t="sep"),t=Ca()[t.toLowerCase()]),t=K(t),t>=12&&(t=11),t<=0&&(t=0);let n=e.date();n>he[t]&&(n=he[t]);let r=e.clone();return p(e,{month:t,d:n}),e=ae(e,r,a,"year"),e.epoch},yt=function(e,t){return typeof t=="string"&&/^'[0-9]{2}$/.test(t)&&(t=t.replace(/'/,"").trim(),t=Number(t),t>30?t=1900+t:t=2e3+t),t=K(t),p(e,{year:t}),e.epoch},dr=function(e,t,a){let n=e.clone();return t=K(t),e=e.month(0),e=e.date(1),e=e.day("monday"),e.monthName()==="december"&&e.date()>=28&&(e=e.add(1,"week")),t-=1,e=e.add(t,"weeks"),e=ae(e,n,a,"year"),e.epoch},hr=function(e,t,a){t=K(t);let n=e.clone();return t-=1,t<=0?t=0:t>=365&&(Ce(e.year())?t=365:t=364),e=e.startOf("year"),e=e.add(t,"day"),Wt(e,n,"hour"),e=ae(e,n,a,"year"),e.epoch};let Nt="am",Pt="pm";function mr(){return Nt}function cr(){return Pt}function fr(e){Nt=e.am||Nt,Pt=e.pm||Pt}const yr={millisecond:function(e){if(e!==void 0){let t=this.clone();return t.epoch=ir(t,e),t}return this.d.getMilliseconds()},second:function(e,t){if(e!==void 0){let a=this.clone();return a.epoch=or(a,e,t),a}return this.d.getSeconds()},minute:function(e,t){if(e!==void 0){let a=this.clone();return a.epoch=ua(a,e,t),a}return this.d.getMinutes()},hour:function(e,t){let a=this.d;if(e!==void 0){let n=this.clone();return n.epoch=ft(n,e,t),n}return a.getHours()},hourFloat:function(e,t){if(e!==void 0){let i=this.clone(),o=e%1;o=o*60;let s=parseInt(e,10);return i.epoch=ft(i,s,t),i.epoch=ua(i,o,t),i}let a=this.d,n=a.getHours(),r=a.getMinutes();return r=r/60,n+r},hour12:function(e,t){let a=this.d;if(e!==void 0){let r=this.clone();e=""+e;let i=e.match(/^([0-9]+)(am|pm)$/);if(i){let o=parseInt(i[1],10);i[2]==="pm"&&(o+=12),r.epoch=ft(r,o,t)}return r}let n=a.getHours();return n>12&&(n=n-12),n===0&&(n=12),n},time:function(e,t){if(e!==void 0){let a=this.clone();return e=e.toLowerCase().trim(),a.epoch=sr(a,e,t),a}return`${this.h12()}:${c(this.minute())}${this.ampm()}`},ampm:function(e,t){let a=mr(),n=this.hour();if(n>=12&&(a=cr()),typeof e!="string")return a;let r=this.clone();return e=e.toLowerCase().trim(),n>=12&&e==="am"?(n-=12,r.hour(n,t)):n<12&&e==="pm"?(n+=12,r.hour(n,t)):r},dayTime:function(e,t){if(e!==void 0){const n={morning:"7:00",breakfast:"7:00",noon:"12:00",lunch:"12:00",afternoon:"14:00",evening:"18:00",dinner:"18:00",night:"23:00",midnight:"00:00"};let r=this.clone();return e=e||"",e=e.toLowerCase(),n.hasOwnProperty(e)===!0&&(r=r.time(n[e],t)),r}let a=this.hour();return a<6?"night":a<12?"morning":a<17?"afternoon":a<22?"evening":"night"},iso:function(e){return e!==void 0?this.set(e):this.format("iso")}},pr={date:function(e,t){if(e!==void 0){let a=this.clone();return e=parseInt(e,10),e&&(a.epoch=ur(a,e,t)),a}return this.d.getDate()},day:function(e,t){if(e===void 0)return this.d.getDay();let a=this.clone(),n=e;typeof e=="string"&&(e=e.toLowerCase(),ea.hasOwnProperty(e)?n=ea[e]:(n=Ve().indexOf(e),n===-1&&(n=at().indexOf(e))));let i=this.d.getDay()-n;t===!0&&i>0&&(i=i-7),t===!1&&i<0&&(i=i+7);let o=this.subtract(i,"days");return p(o,{hour:a.hour(),minute:a.minute(),second:a.second()}),o},dayName:function(e,t){if(e===void 0)return at()[this.day()];let a=this.clone();return a=a.day(e,t),a}},la=e=>(e=e.minute(0),e=e.second(0),e=e.millisecond(1),e),gr={dayOfYear:function(e,t){if(e!==void 0){let i=this.clone();return i.epoch=hr(i,e,t),i}let a=0,n=this.d.getMonth(),r;for(let i=1;i<=n;i++)r=new Date,r.setDate(1),r.setFullYear(this.d.getFullYear()),r.setHours(1),r.setMinutes(1),r.setMonth(i),r.setHours(-2),a+=r.getDate();return a+this.d.getDate()},week:function(e,t){if(e!==void 0){let s=this.clone();return s.epoch=dr(this,e,t),s=la(s),s}let a=this.clone();a=a.month(0),a=a.date(1),a=la(a),a=a.day("monday"),a.month()===11&&a.date()>=25&&(a=a.add(1,"week"));let n=1;a.date()===1&&(n=0),a=a.minus(2,"hours");const r=this.epoch;if(a.epoch>r)return 1;let i=0,o=this.month()*4;for(a.epoch+=w.week*o,i+=o;i<=52;i++){if(a.epoch>r)return i+n;a=a.add(1,"week")}return 52},month:function(e,t){if(e!==void 0){let a=this.clone();return a.epoch=lr(a,e,t),a}return this.d.getMonth()},monthName:function(e,t){if(e!==void 0){let a=this.clone();return a=a.month(e,t),a}return yn()[this.month()]},quarter:function(e,t){if(e!==void 0&&(typeof e=="string"&&(e=e.replace(/^q/i,""),e=parseInt(e,10)),ue[e])){let n=this.clone(),r=ue[e][0];return n=n.month(r,t),n=n.date(1,t),n=n.startOf("day"),n}let a=this.d.getMonth();for(let n=1;n<ue.length;n++)if(a<ue[n][0])return n-1;return 4},season:function(e,t){let a="north";if(this.hemisphere()==="South"&&(a="south"),e!==void 0){let r=this.clone();for(let i=0;i<N[a].length;i++)e===N[a][i][0]&&(r=r.month(N[a][i][1],t),r=r.date(1),r=r.startOf("day"));return r}let n=this.d.getMonth();for(let r=0;r<N[a].length-1;r++)if(n>=N[a][r][1]&&n<N[a][r+1][1])return N[a][r][0];return a==="north"?"winter":"summer"},year:function(e){if(e!==void 0){let t=this.clone();return t.epoch=yt(t,e),t}return this.d.getFullYear()},era:function(e){if(e!==void 0){let t=this.clone();e=e.toLowerCase();let a=t.d.getFullYear();return e==="bc"&&a>0&&(t.epoch=yt(t,a*-1)),e==="ad"&&a<0&&(t.epoch=yt(t,a*-1)),t}return this.d.getFullYear()<0?"BC":"AD"},decade:function(e){if(e!==void 0){if(e=String(e),e=e.replace(/([0-9])'?s$/,"$1"),e=e.replace(/([0-9])(th|rd|st|nd)/,"$1"),!e)return console.warn("Spacetime: Invalid decade input"),this;e.length===2&&/[0-9][0-9]/.test(e)&&(e="19"+e);let t=Number(e);return isNaN(t)?this:(t=Math.floor(t/10)*10,this.year(t))}return this.startOf("decade").year()},century:function(e){if(e!==void 0){typeof e=="string"&&(e=e.replace(/([0-9])(th|rd|st|nd)/,"$1"),e=e.replace(/([0-9]+) ?(b\.?c\.?|a\.?d\.?)/i,(n,r,i)=>(i.match(/b\.?c\.?/i)&&(r="-"+r),r)),e=e.replace(/c$/,""));let a=Number(e);return isNaN(e)?(console.warn("Spacetime: Invalid century input"),this):(a===0&&(a=1),a>=0?a=(a-1)*100:a=(a+1)*100,this.year(a))}let t=this.startOf("century").year();return t=Math.floor(t/100),t<0?t-1:t+1},millenium:function(e){if(e!==void 0){if(typeof e=="string"&&(e=e.replace(/([0-9])(th|rd|st|nd)/,"$1"),e=Number(e),isNaN(e)))return console.warn("Spacetime: Invalid millenium input"),this;e>0&&(e-=1);let a=e*1e3;return a===0&&(a=1),this.year(a)}let t=Math.floor(this.year()/1e3);return t>=0&&(t+=1),t}},M=Object.assign({},yr,pr,gr);M.milliseconds=M.millisecond;M.seconds=M.second;M.minutes=M.minute;M.hours=M.hour;M.hour24=M.hour;M.h12=M.hour12;M.h24=M.hour24;M.days=M.day;const wr=e=>{Object.keys(M).forEach(t=>{e.prototype[t]=M[t]})},Yt=function(e,t){return e===1&&Ce(t)?29:he[e]},br=(e,t)=>{if(e.month>0){let a=parseInt(e.month/12,10);e.year=t.year()+a,e.month=e.month%12}else if(e.month<0){let a=Math.abs(e.month),n=parseInt(a/12,10);a%12!==0&&(n+=1),e.year=t.year()-n,e.month=e.month%12,e.month=e.month+12,e.month===12&&(e.month=0)}return e},kr=(e,t,a)=>{e.year=t.year(),e.month=t.month();let n=t.date();for(e.date=n-Math.abs(a);e.date<1;){e.month-=1,e.month<0&&(e.month=11,e.year-=1);let r=Yt(e.month,e.year);e.date+=r}return e},Dr=(e,t,a)=>{let n=t.year(),r=t.month(),i=Yt(r,n);for(;a>i;)a-=i,r+=1,r>=12&&(r-=12,n+=1),i=Yt(r,n);return e.month=r,e.date=a,e},vr=br,$r=Dr,Or=kr,E=["millisecond","second","minute","hour","date","month"];let te={second:E.slice(0,1),minute:E.slice(0,2),quarterhour:E.slice(0,2),hour:E.slice(0,3),date:E.slice(0,4),month:E.slice(0,4),quarter:E.slice(0,4),season:E.slice(0,4),year:E,decade:E,century:E};te.week=te.hour;te.season=te.date;te.quarter=te.date;const jr={year:!0,quarter:!0,season:!0,month:!0,week:!0,date:!0},Mr={month:!0,quarter:!0,season:!0,year:!0},_r=e=>{e.prototype.add=function(t,a){let n=this.clone();if(!a||t===0)return n;let r=this.clone();if(a=fe(a),a==="millisecond")return n.epoch+=t,n;a==="fortnight"&&(t*=2,a="week"),w[a]?n.epoch+=w[a]*t:a==="week"||a==="weekend"?n.epoch+=w.day*(t*7):a==="quarter"||a==="season"?n.epoch+=w.month*(t*3):a==="quarterhour"&&(n.epoch+=w.minute*15*t);let i={};if(te[a]&&te[a].forEach(o=>{i[o]=r[o]()}),jr[a]){const o=r.timezone().current.offset-n.timezone().current.offset;n.epoch+=o*3600*1e3}if(a==="month"&&(i.month=r.month()+t,i=vr(i,r)),a==="week"){let o=r.date()+t*7;o<=28&&o>1&&(i.date=o)}if(a==="weekend"&&n.dayName()!=="saturday")n=n.day("saturday",!0);else if(a==="date"){if(t<0)i=Or(i,r,t);else{let o=r.date()+t;i=$r(i,r,o)}t!==0&&r.isSame(n,"day")&&(i.date=r.date()+t)}else if(a==="quarter"){if(i.month=r.month()+t*3,i.year=r.year(),i.month<0){let o=Math.floor(i.month/12),s=i.month+Math.abs(o)*12;i.month=s,i.year+=o}else if(i.month>=12){let o=Math.floor(i.month/12);i.month=i.month%12,i.year+=o}i.date=r.date()}else if(a==="year"){let o=r.year()+t,s=n.year();if(s<o){let u=Math.floor(t/4)||1;n.epoch+=Math.abs(w.day*u)}else if(s>o){let u=Math.floor(t/4)||1;n.epoch+=w.day*u}}else a==="decade"?i.year=n.year()+10:a==="century"&&(i.year=n.year()+100);if(Mr[a]){let o=he[i.month];i.date=r.date(),i.date>o&&(i.date=o)}return Object.keys(i).length>1&&p(n,i),n},e.prototype.subtract=function(t,a){return this.clone().add(t*-1,a)},e.prototype.minus=e.prototype.subtract,e.prototype.plus=e.prototype.add},xe={millisecond:e=>e.epoch,second:e=>[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second()].join("-"),minute:e=>[e.year(),e.month(),e.date(),e.hour(),e.minute()].join("-"),hour:e=>[e.year(),e.month(),e.date(),e.hour()].join("-"),day:e=>[e.year(),e.month(),e.date()].join("-"),week:e=>[e.year(),e.week()].join("-"),month:e=>[e.year(),e.month()].join("-"),quarter:e=>[e.year(),e.quarter()].join("-"),year:e=>e.year()};xe.date=xe.day;const xr=e=>{e.prototype.isSame=function(t,a,n=!0){let r=this;if(!a)return null;if(typeof t=="string"&&typeof a=="object"){let i=t;t=a,a=i}return(typeof t=="string"||typeof t=="number")&&(t=new e(t,this.timezone.name)),a=a.replace(/s$/,""),n===!0&&r.tz!==t.tz&&(t=t.clone(),t.tz=r.tz),xe[a]?xe[a](r)===xe[a](t):null}},Tr=e=>{const t={isAfter:function(a){a=se(a,this);let n=ve(a);return n===null?null:this.epoch>n},isBefore:function(a){a=se(a,this);let n=ve(a);return n===null?null:this.epoch<n},isEqual:function(a){a=se(a,this);let n=ve(a);return n===null?null:this.epoch===n},isBetween:function(a,n,r=!1){a=se(a,this),n=se(n,this);let i=ve(a);if(i===null)return null;let o=ve(n);return o===null?null:r?this.isBetween(a,n)||this.isEqual(a)||this.isEqual(n):i<this.epoch&&this.epoch<o}};Object.keys(t).forEach(a=>{e.prototype[a]=t[a]})},zr=e=>{const t={i18n:function(a){return Z(a.days)&&jn(a.days),Z(a.months)&&pn(a.months),sn(a.useTitleCase)&&_n(a.useTitleCase),Z(a.ampm)&&fr(a.ampm),Z(a.distance)&&Jn(a.distance),Z(a.units)&&Bn(a.units),this}};Object.keys(t).forEach(a=>{e.prototype[a]=t[a]})};let pt=De;const $=function(e,t,a={}){this.epoch=null,this.tz=et(t,pt),this.silent=typeof a.silent<"u"?a.silent:!0,this.british=a.dmy||a.british,this._weekStart=1,a.weekStart!==void 0&&(this._weekStart=a.weekStart),this._today={},a.today!==void 0&&(this._today=a.today),Object.defineProperty(this,"d",{get:function(){let r=Ua(this),o=(new Date(this.epoch).getTimezoneOffset()||0)+r*60;o=o*60*1e3;let s=this.epoch+o;return new Date(s)}}),Object.defineProperty(this,"timezones",{get:()=>pt,set:r=>(pt=r,r)});let n=Ea(this,e);this.epoch=n.epoch,n.tz&&(this.tz=n.tz)};Object.keys(ee).forEach(e=>{$.prototype[e]=ee[e]});$.prototype.clone=function(){return new $(this.epoch,this.tz,{silent:this.silent,weekStart:this._weekStart,today:this._today,parsers:this.parsers})};$.prototype.toLocalDate=function(){return this.toNativeDate()};$.prototype.toNativeDate=function(){return new Date(this.epoch)};wr($);_r($);xr($);Tr($);zr($);const Sr=(e,t)=>{let a=new $(null),n=new $(null);a=a.time(e),t?n=n.time(t):n=a.add(59,"minutes");let r=a.hour(),i=n.hour();return Object.keys(a.timezones).filter(s=>{if(s.indexOf("/")===-1)return!1;let u=new $(null,s),m=u.hour();return m>=r&&m<=i?!(m===r&&u.minute()<a.minute()||m===i&&u.minute()>n.minute()):!1})},Vr="7.7.0",y=(e,t,a)=>new $(e,t,a),rt=function(e){let t=e._today||{};return Object.keys(t).forEach(a=>{e=e[a](t[a])}),e};y.now=(e,t)=>{let a=new $(new Date().getTime(),e,t);return a=rt(a),a};y.today=(e,t)=>{let a=new $(new Date().getTime(),e,t);return a=rt(a),a.startOf("day")};y.tomorrow=(e,t)=>{let a=new $(new Date().getTime(),e,t);return a=rt(a),a.add(1,"day").startOf("day")};y.yesterday=(e,t)=>{let a=new $(new Date().getTime(),e,t);return a=rt(a),a.subtract(1,"day").startOf("day")};y.extend=function(e={}){return Object.keys(e).forEach(t=>{$.prototype[t]=e[t]}),this};y.timezones=function(){return new $().timezones};y.max=function(e,t){let a=new $(null,e,t);return a.epoch=864e13,a};y.min=function(e,t){let a=new $(null,e,t);return a.epoch=-864e13,a};y.whereIts=Sr;y.version=Vr;y.plugin=y.extend;const da={daybreak:"7:00am",breakfast:"8:00am",morning:"9:00am",noon:"12:00pm",midday:"12:00pm",afternoon:"2:00pm",lunchtime:"12:00pm",evening:"6:00pm",dinnertime:"6:00pm",night:"8:00pm",eod:"10:00pm",midnight:"12:00am",am:"9:00am",pm:"5:00pm","early day":"8:00am","late at night":"11:00pm"},be={quarter:15,half:30},Ye=function(e){let t=e.time("6:00am");return e.isBefore(t)?e.ampm("pm"):e},Ar=function(e,t){let a=e.match("#Cardinal$"),n=e.not(a).match("(half|quarter|25|20|15|10|5)");a=a.text("reduced");let r=n.text("reduced");be.hasOwnProperty(r)&&(r=be[r]);let i=e.has("to");return t=t.hour(a),t=t.startOf("hour"),a<6&&(t=t.ampm("pm")),i?t=t.subtract(r,"minutes"):t=t.add(r,"minutes"),t},Rt=function(e,t){let a=e.match("(at|by|for|before|this|after)? #Time+");a=a.not("^(at|by|for|before|this|after)"),a=a.not("sharp"),a=a.not("on the dot");let n=y.now(t.timezone),r=n.clone(),i=a.not("in? the").text("reduced");if(i=i.replace(/^@/,""),da.hasOwnProperty(i))return{result:da[i],m:a};let o=a.match("^#Cardinal oclock (am|pm)?");if(o.found&&(n=n.hour(o.text("reduced")),n=n.startOf("hour"),n.isValid()&&!n.isEqual(r))){let u=o.match("(am|pm)");return u.found?n=n.ampm(u.text("reduced")):n=Ye(n),{result:n.time(),m:o}}if(o=a.match("(half|quarter|25|20|15|10|5) (past|after|to) #Cardinal"),o.found&&(n=Ar(o,n),n.isValid()&&!n.isEqual(r)))return n=Ye(n),{result:n.time(),m:o};if(o=a.match("[<min>(half|quarter|25|20|15|10|5)] (past|after)"),o.found){let u=o.groups("min").text("reduced"),m=y(t.today);if(be.hasOwnProperty(u)&&(u=be[u]),m=m.next("hour").startOf("hour").minute(u),m.isValid()&&!m.isEqual(r))return{result:m.time(),m:o}}if(o=a.match("[<min>(half|quarter|25|20|15|10|5)] to"),o.found){let u=o.groups("min").text("reduced"),m=y(t.today);if(be.hasOwnProperty(u)&&(u=be[u]),m=m.next("hour").startOf("hour").minus(u,"minutes"),m.isValid()&&!m.isEqual(r))return{result:m.time(),m:o}}if(o=a.match("[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]"),o.found){let u=o.groups("time").text("normal");if(/^[0-9]{1,2}$/.test(u)?(n=n.hour(u),n=n.startOf("hour")):n=n.time(u),n.isValid()&&!n.isEqual(r)){let m=o.groups("desc").text("reduced");return(m==="evening"||m==="night")&&(n=n.ampm("pm")),{result:n.time(),m:o}}}if(o=a.match("this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]"),o.found){let u=o.groups(),m=u.time.text("reduced");if(/^[0-9]{1,2}$/.test(m)?(n=n.hour(m),n=n.startOf("hour")):n=n.time(m),n.isValid()&&!n.isEqual(r)){let O=u.desc.text("reduced");return O==="morning"&&(n=n.ampm("am")),(O==="evening"||O==="tonight")&&(n=n.ampm("pm")),{result:n.time(),m:o}}}if(o=a.match("^#Cardinal$"),o.found){let u=o.text("reduced");if(n=n.hour(u),n=n.startOf("hour"),n.isValid()&&!n.isEqual(r))return/(am|pm)/i.test(u)===!1&&(n=Ye(n)),{result:n.time(),m:o}}let s=a.text("reduced");return n=n.time(s),n.isValid()&&!n.isEqual(r)?(/(am|pm)/i.test(s)===!1&&(n=Ye(n)),{result:n.time(),m:a}):t.dayStart?{result:t.dayStart,m:e.none()}:{result:null,m:e.none()}},Cr=function(e){if(e.has("(next|last|this)$"))return{result:null,m:e.none()};let t=e.match("^this? (next|upcoming|coming)");return t.found?{result:"next",m:t}:(t=e.match("^this? (past)"),t.found?{result:"this-past",m:t}:(t=e.match("^this? (last|previous)"),t.found?{result:"last",m:t}:(t=e.match("^(this|current)"),t.found?{result:"this",m:t}:{result:null,m:e.none()})))},qr=function(e){let t=e.match("[(start|beginning) of] .",0);return t.found?{result:"start",m:t}:(t=e.match("[end of] .",0),t.found?{result:"end",m:t}:(t=e.match("[(middle|midpoint|center) of] .",0),t.found?{result:"middle",m:t}:{result:null,m:t}))},l="America/",h="Asia/",k="Europe/",_="Africa/",D="Australia/",S="Pacific/",Er={"british summer time":k+"London",bst:k+"London","british time":k+"London","britain time":k+"London","irish summer time":k+"Dublin","irish time":k+"Dublin",ireland:k+"Dublin","central european time":k+"Berlin",cet:k+"Berlin","central european summer time":k+"Berlin",cest:k+"Berlin","central europe":k+"Berlin","eastern european time":k+"Riga",eet:k+"Riga","eastern european summer time":k+"Riga",eest:k+"Riga","eastern europe time":k+"Riga","western european time":k+"Lisbon","western european summer time":k+"Lisbon","western europe":k+"Lisbon","turkey standard time":k+"Istanbul",trt:k+"Istanbul","turkish time":k+"Istanbul",etc:_+"Freetown",utc:_+"Freetown","greenwich standard time":_+"Freetown",gmt:_+"Freetown","east africa time":_+"Nairobi","east african time":_+"Nairobi","eastern africa time":_+"Nairobi","central africa time":_+"Khartoum","central african time":_+"Khartoum","south africa standard time":_+"Johannesburg",sast:_+"Johannesburg","southern africa":_+"Johannesburg","south african":_+"Johannesburg","west africa standard time":_+"Lagos","western africa time":_+"Lagos","west african time":_+"Lagos","australian central standard time":D+"Adelaide",acst:D+"Adelaide","australian central daylight time":D+"Adelaide",acdt:D+"Adelaide","australia central":D+"Adelaide","australian eastern standard time":D+"Brisbane",aest:D+"Brisbane","australian eastern daylight time":D+"Brisbane",aedt:D+"Brisbane","australia east":D+"Brisbane","australian western standard time":D+"Perth",awst:D+"Perth","australian western daylight time":D+"Perth",awdt:D+"Perth","australia west":D+"Perth","australian central western standard time":D+"Eucla",acwst:D+"Eucla","australia central west":D+"Eucla","lord howe standard time":D+"Lord_Howe",lhst:D+"Lord_Howe","lord howe daylight time":D+"Lord_Howe",lhdt:D+"Lord_Howe","russian standard time":k+"Moscow",msk:k+"Moscow",russian:k+"Moscow","central standard time":l+"Chicago","central time":l+"Chicago",cst:l+"Havana","central daylight time":l+"Chicago",cdt:l+"Havana","mountain standard time":l+"Denver","mountain time":l+"Denver",mst:l+"Denver","mountain daylight time":l+"Denver",mdt:l+"Denver","atlantic standard time":l+"Halifax","atlantic time":l+"Halifax",ast:h+"Baghdad","atlantic daylight time":l+"Halifax",adt:l+"Halifax","eastern standard time":l+"New_York",eastern:l+"New_York","eastern time":l+"New_York",est:l+"New_York","eastern daylight time":l+"New_York",edt:l+"New_York","pacific time":l+"Los_Angeles","pacific standard time":l+"Los_Angeles",pst:l+"Los_Angeles","pacific daylight time":l+"Los_Angeles",pdt:l+"Los_Angeles","alaskan standard time":l+"Anchorage","alaskan time":l+"Anchorage",ahst:l+"Anchorage","alaskan daylight time":l+"Anchorage",ahdt:l+"Anchorage","hawaiian standard time":S+"Honolulu","hawaiian time":S+"Honolulu",hst:S+"Honolulu","aleutian time":S+"Honolulu","hawaii time":S+"Honolulu","newfoundland standard time":l+"St_Johns","newfoundland time":l+"St_Johns",nst:l+"St_Johns","newfoundland daylight time":l+"St_Johns",ndt:l+"St_Johns","brazil time":l+"Sao_Paulo",brt:l+"Sao_Paulo",braslia:l+"Sao_Paulo",brasilia:l+"Sao_Paulo","brazilian time":l+"Sao_Paulo","argentina time":l+"Buenos_Aires","argentinian time":l+"Buenos_Aires","amazon time":l+"Manaus",amt:l+"Manaus","amazonian time":l+"Manaus","easter island standard time":"Chile/Easterisland",east:"Chile/Easterisland","easter island summer time":"Chile/Easterisland",easst:"Chile/Easterisland","venezuelan standard time":l+"Caracas","venezuelan time":l+"Caracas",vet:l+"Caracas","venezuela time":l+"Caracas","paraguay time":l+"Asuncion",pyt:l+"Asuncion","paraguay summer time":l+"Asuncion",pyst:l+"Asuncion","cuba standard time":l+"Havana","cuba time":l+"Havana","cuba daylight time":l+"Havana","cuban time":l+"Havana","bolivia time":l+"La_Paz","bolivian time":l+"La_Paz","colombia time":l+"Bogota",cot:l+"Bogota","colombian time":l+"Bogota","acre time":l+"Eirunepe","peru time":l+"Lima","chile standard time":l+"Punta_Arenas","chile time":l+"Punta_Arenas",clst:l+"Punta_Arenas","chile summer time":l+"Punta_Arenas",cldt:l+"Punta_Arenas","uruguay time":l+"Montevideo",uyt:l+"Montevideo",ist:h+"Jerusalem","arabic standard time":h+"Baghdad","arabic time":h+"Baghdad","arab time":h+"Baghdad","iran standard time":h+"Tehran","iran time":h+"Tehran",irst:h+"Tehran","iran daylight time":h+"Tehran",irdt:h+"Tehran",iranian:h+"Tehran","pakistan standard time":h+"Karachi","pakistan time":h+"Karachi",pkt:h+"Karachi","india standard time":h+"Kolkata","indian time":h+"Kolkata","indochina time":h+"Bangkok",ict:h+"Bangkok","south east asia":h+"Bangkok","china standard time":h+"Shanghai",ct:h+"Shanghai","chinese time":h+"Shanghai","alma-ata time":h+"Almaty",almt:h+"Almaty","oral time":h+"Oral","orat time":h+"Oral","yakutsk time":h+"Yakutsk",yakt:h+"Yakutsk","gulf standard time":h+"Dubai","gulf time":h+"Dubai",gst:h+"Dubai",uae:h+"Dubai","hong kong time":h+"Hong_Kong",hkt:h+"Hong_Kong","western indonesian time":h+"Jakarta",wib:h+"Jakarta","indonesia time":h+"Jakarta","central indonesian time":h+"Makassar",wita:h+"Makassar","israel daylight time":h+"Jerusalem",idt:h+"Jerusalem","israel standard time":h+"Jerusalem","israel time":h+"Jerusalem",israeli:h+"Jerusalem","krasnoyarsk time":h+"Krasnoyarsk",krat:h+"Krasnoyarsk","malaysia time":h+"Kuala_Lumpur",myt:h+"Kuala_Lumpur","singapore time":h+"Singapore",sgt:h+"Singapore","korea standard time":h+"Seoul","korea time":h+"Seoul",kst:h+"Seoul","korean time":h+"Seoul","uzbekistan time":h+"Samarkand",uzt:h+"Samarkand","vladivostok time":h+"Vladivostok",vlat:h+"Vladivostok","maldives time":"Indian/Maldives",mvt:"Indian/Maldives","mauritius time":"Indian/Mauritius",mut:"Indian/Mauritius","marshall islands time":S+"Kwajalein",mht:S+"Kwajalein","samoa standard time":S+"Midway",sst:S+"Midway","somoan time":S+"Midway","chamorro standard time":S+"Guam",chst:S+"Guam","papua new guinea time":S+"Bougainville",pgt:S+"Bougainville"};let Nr=y().timezones,Pr=Object.keys(Nr).reduce((e,t)=>(e[t]=t,e),{});const ha=Object.assign({},Er,Pr),Yr=/(-?[0-9]+)h(rs)?/i,Lr=/(-?[0-9]+)/,Br=/utc([-+]?[0-9]+)/i,Ir=/gmt([-+]?[0-9]+)/i,Le=function(e){return e=Number(e),e>-13&&e<13?(e=e*-1,e=(e>0?"+":"")+e,"Etc/GMT"+e):null},Hr=function(e){let t=e.match(Yr);if(t!==null||(t=e.match(Br),t!==null))return Le(t[1]);if(t=e.match(Ir),t!==null){let a=Number(t[1])*-1;return Le(a)}return t=e.match(Lr),t!==null?Le(t[1]):null},Wr=function(e){let t=e.match("#Timezone+");t=t.not("(in|for|by|near|at)");let a=t.text("reduced");if(ha.hasOwnProperty(a))return{result:ha[a],m:t};let n=Hr(a);return n?{result:n,m:t}:{result:null,m:e.none()}},Rr=function(e){let t=e.match("#WeekDay");return t.found&&!e.has("^#WeekDay$")?e.has("(this|next|last) (next|upcoming|coming|past)? #WeekDay")?{result:null,m:e.none()}:{result:t.text("reduced"),m:t}:{result:null,m:e.none()}},Fr=function(e){return e=e.not("[^the] !#Value",0),e=e.not("#Preposition$"),e=e.not("#Conjunction$"),e=e.not("sharp"),e=e.not("on the dot"),e=e.not("^(on|of)"),e=e.not("(next|last|this)$"),e},Jr=function(e,t){let a=Wa(e),n=a.result;e=e.not(a.m),a=Fa(e);let r=a.result;e=e.not(a.m),a=Wr(e);let i=a.result;e=e.not(a.m),a=Rt(e,t);let o=a.result;e=e.not(a.m),a=Rr(e);let s=a.result;e=e.not(a.m),a=qr(e);let u=a.result;e=e.not(a.m),a=Cr(e);let m=a.result;return e=e.not(a.m),e=Fr(e),{shift:n,counter:r,tz:i,time:o,weekDay:s,section:u,rel:m,doc:e}};class z{constructor(t,a,n){this.unit=a||"day",this.setTime=!1,n=n||{};let r={};n.today&&(r={date:n.today.date(),month:n.today.month(),year:n.today.year()}),t&&t.month==="sept"&&(t.month="sep");let i=y(t,n.timezone,{today:r,dmy:n.dmy});Object.defineProperty(this,"d",{enumerable:!1,writable:!0,value:i}),Object.defineProperty(this,"context",{enumerable:!1,writable:!0,value:n})}clone(){let t=new z(this.d,this.unit,this.context);return t.setTime=this.setTime,t}log(){return console.log("--"),this.d.log(),console.log(`
`),this}applyShift(t={}){return Object.keys(t).forEach(a=>{this.d=this.d.add(t[a],a),(a==="hour"||a==="minute")&&(this.setTime=!0)}),this}applyTime(t){if(t){if(/^[0-9]{1,2}$/.test(t)?this.d=this.d.hour(t):this.d=this.d.time(t),!/[ap]m/.test(t)){let r=this.d.time("6:00am");this.d.isBefore(r)&&(this.d=this.d.ampm("pm"));let i=this.d.time("10:00pm");this.d.isAfter(i)&&(this.d=this.d.ampm("am"))}}else this.d=this.d.startOf("day");return this.setTime=!0,this}applyWeekDay(t){if(t){let a=this.d.epoch;this.d=this.d.day(t),this.d.epoch<a&&(this.d=this.d.add(1,"week"))}return this}applyRel(t){return t==="next"?this.next():t==="last"||t==="this-past"?this.last():this}applySection(t){return t==="start"?this.start():t==="end"?this.end():t==="middle"?this.middle():this}format(t){return this.d.format(t)}start(){return this.d=this.d.startOf(this.unit),this.context.dayStart&&(this.d=this.d.time(this.context.dayStart)),this}end(){if(this.d=this.d.endOf(this.unit),this.context.dayEnd){this.d=this.d.startOf("day");let t=this.d.time(this.context.dayEnd);if(t.isAfter(this.d))return this.d=t,this}return this}middle(){let t=this.d.diff(this.d.endOf(this.unit)),a=Math.round(t.minutes/2);return this.d=this.d.add(a,"minutes"),this}beforeEnd(){let t=this.d.startOf(this.unit).diff(this.d.endOf(this.unit)),a=Math.round(t.minutes/4);return this.d=this.d.endOf(this.unit),this.d=this.d.minus(a,"minutes"),this.context.dayStart&&(this.d=this.d.time(this.context.dayStart)),this}before(){return this.d=this.d.minus(1,this.unit),this.d=this.d.endOf(this.unit),this.context.dayEnd&&(this.d=this.d.time(this.context.dayEnd)),this}after(){return this.d=this.d.add(1,this.unit),this.d=this.d.startOf(this.unit),this}next(){return this.d=this.d.add(1,this.unit),this.d=this.d.startOf(this.unit),this}last(){return this.d=this.d.minus(1,this.unit),this.d=this.d.startOf(this.unit),this}}class q extends z{constructor(t,a,n){super(t,a,n),this.unit="day",this.d.isValid()&&(this.d=this.d.startOf("day"))}middle(){return this.d=this.d.time("10am"),this}beforeEnd(){return this.d=this.d.time("2pm"),this}}class P extends q{constructor(t,a,n){super(t,a,n),this.unit="day",this.d.isValid()&&(this.d=this.d.startOf("day"))}next(){return this.d=this.d.add(1,"year"),this}last(){return this.d=this.d.minus(1,"year"),this}}class Lt extends q{constructor(t,a,n){super(t,a,n),this.unit="day",this.isWeekDay=!0,typeof t=="string"?(this.d=y(n.today,n.timezone),this.d=this.d.day(t),this.d.isBefore(n.today)&&(this.d=this.d.add(7,"days"))):this.d=t,this.weekDay=this.d.dayName(),this.d.isValid()&&(this.d=this.d.startOf("day"))}next(){return this.d=this.d.add(7,"days"),this.d=this.d.day(this.weekDay),this}last(){return this.d=this.d.minus(7,"days"),this.d=this.d.day(this.weekDay),this}before(){return this.d=this.d.minus(1,"day"),this.d=this.d.endOf("day"),this.context.dayEnd&&(this.d=this.d.time(this.context.dayEnd)),this}applyRel(t){if(t==="next"){let a=this.context.today.endOf("week").add(1,"week");return this.next(),this.d.isAfter(a)&&this.last(),this}if(t==="this-past")return this.last();if(t==="last"){let a=this.context.today.startOf("week");return this.last(),this.d.isBefore(a)===!1&&this.last(),this}return this}}class Ur extends P{constructor(t,a,n){super(t,a,n),this.unit="day",this.d.isValid()&&(this.d=this.d.startOf("day"))}}class Xe extends z{constructor(t,a,n){super(t,a,n,!0),this.unit="hour",this.d.isValid()&&(this.d=this.d.startOf("hour"))}}class Pa extends z{constructor(t,a,n){super(t,a,n,!0),this.unit="minute",this.d.isValid()&&(this.d=this.d.startOf("minute"))}}class H extends z{constructor(t,a,n){super(t,a,n,!0),this.unit="millisecond"}}class Kr extends z{constructor(t,a,n){super(t,a,n),this.unit="month",this.d.isValid()&&(this.d=this.d.startOf(this.unit))}}class Q extends z{constructor(t,a,n){super(t,a,n),this.unit="month",this.d.isValid()&&(this.d=this.d.startOf(this.unit))}next(){return this.d=this.d.add(1,"year"),this.d=this.d.startOf("month"),this}last(){return this.d=this.d.minus(1,"year"),this.d=this.d.startOf("month"),this}middle(){return this.d=this.d.add(15,"days"),this.d=this.d.startOf("day"),this}}class ma extends z{constructor(t,a,n){super(t,a,n),this.unit="quarter",this.d.isValid()&&(this.d=this.d.startOf(this.unit))}last(){return this.d=this.d.minus(1,"quarter"),this.d=this.d.startOf(this.unit),this}}class Bt extends z{constructor(t,a,n){super(t,a,n),this.unit="quarter",this.d.isValid()&&(this.d=this.d.startOf(this.unit))}next(){return this.d=this.d.add(1,"year"),this.d=this.d.startOf(this.unit),this}last(){return this.d=this.d.minus(1,"year"),this.d=this.d.startOf(this.unit),this}}class Ft extends z{constructor(t,a,n){super(t,a,n),this.unit="season",this.d.isValid()&&(this.d=this.d.startOf(this.unit))}next(){return this.d=this.d.add(1,"year"),this.d=this.d.startOf(this.unit),this}last(){return this.d=this.d.minus(1,"year"),this.d=this.d.startOf(this.unit),this}}class It extends z{constructor(t,a,n){super(t,a,n),this.unit="year",this.d.isValid()&&(this.d=this.d.startOf("year"))}}class Ae extends z{constructor(t,a,n){super(t,a,n),this.unit="week",this.d.isValid()&&(this.d=this.d.startOf("week"))}clone(){return new Ae(this.d,this.unit,this.context)}middle(){return this.d=this.d.add(2,"days"),this}beforeEnd(){return this.d=this.d.day("friday"),this}}class Ya extends z{constructor(t,a,n){super(t,a,n),this.unit="week",this.d.isValid()&&(this.d=this.d.day("saturday"),this.d=this.d.startOf("day"))}start(){return this.d=this.d.day("saturday").startOf("day"),this}next(){return this.d=this.d.add(1,this.unit),this.d=this.d.startOf("weekend"),this}last(){return this.d=this.d.minus(1,this.unit),this.d=this.d.startOf("weekend"),this}}const Y={today:e=>new q(e.today,null,e),yesterday:e=>new q(e.today.minus(1,"day"),null,e),tomorrow:e=>new q(e.today.plus(1,"day"),null,e),eom:e=>{let t=e.today.endOf("month");return t=t.startOf("day"),new q(t,null,e)},eoy:e=>{let t=e.today.endOf("year");return t=t.startOf("day"),new q(t,null,e)},now:e=>new H(e.today,null,e)};Y.tommorrow=Y.tomorrow;Y.tmrw=Y.tomorrow;Y.anytime=Y.today;Y.sometime=Y.today;const Gr=function(e,t,a){let n=null;e.found===!1&&(a.time!==null&&(n=new H(t.today,null,t)),a.shift&&Object.keys(a.shift).length>0&&(a.shift.hour||a.shift.minute?n=new H(t.today,null,t):n=new q(t.today,null,t)));let r=e.text("reduced");return Y.hasOwnProperty(r)===!0?Y[r](t):r==="next"&&a.shift&&Object.keys(a.shift).length>0?Y.tomorrow(t):n},re="january",ie="february",ca="march",Be="april",pe="may",Zr="june",Ie="july",He="august",gt="september",je="october",G="november",B="december";var We={"new years eve":[B,31],"new years":[re,1],"new years day":[re,1],"inauguration day":[re,20],"australia day":[re,26],"national freedom day":[ie,1],"groundhog day":[ie,2],"rosa parks day":[ie,4],"valentines day":[ie,14],"saint valentines day":[ie,14],"st valentines day ":[ie,14],"saint patricks day":[ca,17],"st patricks day":[ca,17],"april fools":[Be,1],"april fools day":[Be,1],"emancipation day":[Be,16],"tax day":[Be,15],"labour day":[pe,1],"cinco de mayo":[pe,5],"national nurses day":[pe,6],"harvey milk day":[pe,22],"victoria day":[pe,24],juneteenth:[Zr,19],"canada day":[Ie,1],"independence day":[Ie,4],"independents day":[Ie,4],"bastille day":[Ie,14],"purple heart day":[He,7],"womens equality day":[He,26],"16 de septiembre":[gt,16],"dieciseis de septiembre":[gt,16],"grito de dolores":[gt,16],halloween:[je,31],"all hallows eve":[je,31],"day of the dead":[je,31],"dia de muertos":[je,31],"veterans day":[G,11],"st andrews day":[G,30],"saint andrews day":[G,30],"all saints day":[G,1],"all sts day":[G,1],"armistice day":[G,11],"rememberance day":[G,11],"christmas eve":[B,24],christmas:[B,25],xmas:[B,25],"boxing day":[B,26],"st stephens day":[B,26],"saint stephens day":[B,26],epiphany:[re,6],"orthodox christmas day":[re,7],"orthodox new year":[re,14],"assumption of mary":[He,15],"all souls day":[G,2],"feast of the immaculate conception":[B,8],"feast of our lady of guadalupe":[B,12],kwanzaa:[B,26],imbolc:[ie,2],beltaine:[pe,1],lughnassadh:[He,1],samhain:[je,31]};const Qr=function(e,t,a,n){if(We.hasOwnProperty(e)||We.hasOwnProperty(t)){let r=We[e]||We[t]||[],i=y.now(n);if(i=i.year(a),i=i.startOf("year"),i=i.month(r[0]),i=i.date(r[1]),i.isValid())return i}return null};var Xr=Qr;const ei="january",ti="february",ai="march",ni="may",ri="june",ii="september",fa="october",ya="november",ge="monday",oi="thursday",si="friday",pa="sunday";let me={"martin luther king day":[3,ge,ei],"presidents day":[3,ge,ti],"commonwealth day":[2,ge,ai],"mothers day":[2,pa,ni],"fathers day":[3,pa,ri],"labor day":[1,ge,ii],"columbus day":[2,ge,fa],"canadian thanksgiving":[2,ge,fa],thanksgiving:[4,oi,ya],"black friday":[4,si,ya]};me["turday day"]=me.thanksgiving;me["indigenous peoples day"]=me["columbus day"];me["mlk day"]=me["martin luther king day"];var Re=me;const ui=function(e,t,a,n){if(Re.hasOwnProperty(e)||Re.hasOwnProperty(t)){let r=Re[e]||Re[t]||[],i=y.now(n);i=i.year(a),i=i.month(r[2]),i=i.startOf("month");let o=i.month();if(i=i.day(r[1]),i.month()!==o&&(i=i.add(1,"week")),r[0]>1&&(i=i.add(r[0]-1,"week")),i.isValid())return i}return null};var li=ui;let ce={easter:0,"ash wednesday":-46,"palm sunday":7,"maundy thursday":-3,"good friday":-2,"holy saturday":-1,"easter saturday":-1,"easter monday":1,"ascension day":39,"whit sunday":49,"whit monday":50,"trinity sunday":65,"corpus christi":60,"mardi gras":-47};ce["easter sunday"]=ce.easter;ce.pentecost=ce["whit sunday"];ce.whitsun=ce["whit sunday"];var Fe=ce;const di=function(e){let t=Math.floor,a=e%19,n=t(e/100),r=(n-t(n/4)-t((8*n+13)/25)+19*a+15)%30,i=r-t(r/28)*(1-t(29/(r+1))*t((21-a)/11)),o=(e+t(e/4)+i+2-n+t(n/4))%7,s=i-o,u=3+t((s+40)/44),m=s+28-31*t(u/4);return u=u===4?"April":"March",u+" "+m};var hi=di;const mi=function(e,t,a,n){if(Fe.hasOwnProperty(e)||Fe.hasOwnProperty(t)){let r=Fe[e]||Fe[t]||[],i=hi(a);if(!i)return null;let o=y(i,n);o=o.year(a);let s=o.add(r,"day");if(s.isValid())return s}return null};var ci=mi;const Je={spring:[2003,2007,2044,2048,2052,2056,2060,2064,2068,2072,2076,2077,2080,2081,2084,2085,2088,2089,2092,2093,2096,2097],summer:[2021,2016,2020,2024,2028,2032,2036,2040,2041,2044,2045,2048,2049,2052,2053,2056,2057,2060,2061,2064,2065,2068,2069,2070,2072,2073,2074,2076,2077,2078,2080,2081,2082,2084,2085,2086,2088,2089,2090,2092,2093,2094,2096,2097,2098,2099],fall:[2002,2003,2004,2006,2007,2010,2011,2014,2015,2018,2019,2022,2023,2026,2027,2031,2035,2039,2043,2047,2051,2055,2059,2092,2096],winter:[2002,2003,2006,2007,2011,2015,2019,2023,2027,2031,2035,2039,2043,2080,2084,2088,2092,2096]},fi=[2080,2084,2088,2092,2096],yi=function(e){let t={spring:"March 20 "+e,summer:"June 21 "+e,fall:"Sept 22 "+e,winter:"Dec 21 "+e};return Je.spring.indexOf(e)!==-1&&(t.spring="March 19 "+e),Je.summer.indexOf(e)!==-1&&(t.summer="June 20 "+e),Je.fall.indexOf(e)!==-1&&(t.fall="Sept 21 "+e),Je.winter.indexOf(e)!==-1&&(t.winter="Dec 22 "+e),fi.indexOf(e)!==-1&&(t.winter="Dec 20 "+e),t};var pi=yi;let b={"spring equinox":"spring","summer solistice":"summer","fall equinox":"fall","winter solstice":"winter"};b["march equinox"]=b["spring equinox"];b["vernal equinox"]=b["spring equinox"];b.ostara=b["spring equinox"];b["june solstice"]=b["summer solistice"];b.litha=b["summer solistice"];b["autumn equinox"]=b["fall equinox"];b["autumnal equinox"]=b["fall equinox"];b["september equinox"]=b["fall equinox"];b["sept equinox"]=b["fall equinox"];b.mabon=b["fall equinox"];b["december solstice"]=b["winter solistice"];b["dec solstice"]=b["winter solistice"];b.yule=b["winter solistice"];var Ue=b;const gi=function(e,t,a,n){if(Ue.hasOwnProperty(e)||Ue.hasOwnProperty(t)){let r=Ue[e]||Ue[t],i=pi(a);if(!r||!i||!i[r])return null;let o=y(i[r],n);if(o.isValid())return o}return null};var wi=gi;let bi={"isra and miraj":"april 13","lailat al-qadr":"june 10","eid al-fitr":"june 15","id al-Fitr":"june 15","eid ul-Fitr":"june 15",ramadan:"may 16","eid al-adha":"sep 22",muharram:"sep 12","prophets birthday":"nov 21"};var Ke=bi;const ki=-10.64,Di=function(e,t,a,n){if(Ke.hasOwnProperty(e)||Ke.hasOwnProperty(t)){let r=Ke[e]||Ke[t]||[];if(!r)return null;let i=y(r+" 2018",n),s=(a-2018)*ki;if(i=i.add(s,"day"),i=i.startOf("day"),i=i.year(a),i.isValid())return i}return null};var vi=Di;const $i=y.now().year(),ga=function(e,t,a){t=t||$i,e=e||"",e=String(e),e=e.trim().toLowerCase(),e=e.replace(/'s/,"s");let n=e.replace(/ day$/,"");n=n.replace(/^the /,""),n=n.replace(/^orthodox /,"");let r=Xr(e,n,t,a);return r!==null||(r=li(e,n,t,a),r!==null)||(r=ci(e,n,t,a),r!==null)||(r=wi(e,n,t,a),r!==null)||(r=vi(e,n,t,a),r!==null)?r:null},Oi=function(e,t){let a=null,n=e.match("[<holiday>#Holiday+] [<year>#Year?]"),r=t.today.year();n.groups("year").found&&(r=Number(n.groups("year").text("reduced"))||r);let i=n.groups("holiday").text("reduced"),o=ga(i,r,t.timezone);return o!==null&&(o.isBefore(t.today)&&r===t.today.year()&&(o=ga(i,r+1,t.timezone)),a=new Ur(o,null,t)),a},Ht={day:q,hour:Xe,evening:Xe,second:H,milliscond:H,instant:H,minute:Pa,week:Ae,weekend:Ya,month:Kr,quarter:ma,year:It,season:Ft,yr:It,qtr:ma,wk:Ae,sec:H,hr:Xe};let ji=`^(${Object.keys(Ht).join("|")})$`;const Mi=function(e,t){let a=e.match(ji);if(a.found===!0){let n=a.text("reduced");if(Ht.hasOwnProperty(n)){let r=Ht[n];return r?new r(null,n,t):null}}if(a=e.match("^#WeekDay$"),a.found===!0){let n=a.text("reduced");return new Lt(n,null,t)}return null},Ge=function(e){return{date:e.today.date(),month:e.today.month(),year:e.today.year()}},_i=function(e,t){let a=e.match("(spring|summer|winter|fall|autumn) [<year>#Year?]");if(a.found){let n=e.text("reduced"),r=y(n,t.timezone,{today:Ge(t)}),i=new Ft(r,null,t);if(i.d.isValid()===!0)return i}if(a=e.match("[<q>#FinancialQuarter] [<year>#Year?]"),a.found){let n=a.groups("q").text("reduced"),r=y(n,t.timezone,{today:Ge(t)});if(a.groups("year")){let o=Number(a.groups("year").text())||t.today.year();r=r.year(o)}let i=new Bt(r,null,t);if(i.d.isValid()===!0)return i}if(a=e.match("[<q>#Value] quarter (of|in)? [<year>#Year?]"),a.found){let n=a.groups("q").text("reduced"),r=y(`q${n}`,t.timezone,{today:Ge(t)});if(a.groups("year")){let o=Number(a.groups("year").text())||t.today.year();r=r.year(o)}let i=new Bt(r,null,t);if(i.d.isValid()===!0)return i}if(a=e.match("^#Year$"),a.found){let n=e.text("reduced"),r=y(null,t.timezone,{today:Ge(t)});r=r.year(n);let i=new It(r,null,t);if(i.d.isValid()===!0)return i}return null},xi=function(e,t){let a=t.today.year(),n=e.match("[<date>#Value] of? [<month>#Month] [<year>#Year]");if(n.found||(n=e.match("[<month>#Month] the? [<date>#Value] [<year>#Year]")),n.found){let o={month:n.groups("month").text("reduced"),date:n.groups("date").text("reduced"),year:n.groups("year").text()||a},s=new P(o,null,t);if(s.d.isValid()===!0)return s}if(n=e.match("[<month>#Month] of? [<year>#Year]"),n.found){let o={month:n.groups("month").text("reduced"),year:n.groups("year").text("reduced")||a},s=new Q(o,null,t);if(s.d.isValid()===!0)return s}if(n=e.match("[<month>#Month] [<date>#Value+]? of? the? [<rel>(this|next|last|current)] year"),n.found){let o=n.groups("rel").text("reduced"),s=a;o==="next"?s+=1:o==="last"&&(s-=1);let u={month:n.groups("month").text("reduced"),date:n.groups("date").numbers(0).get()[0],year:s};if(u.date===void 0){u.date=1;let O=new Q(u,null,t);if(O.d.isValid()===!0)return O}let m=new P(u,null,t);if(m.d.isValid()===!0)return m}if(n=e.match("^the? [<date>#Value+]? of? [<rel>(this|next|last|current)] month"),n.found){let o=t.today.month(),s=n.groups("rel").text("reduced");s==="next"?o+=1:s==="last"&&(o-=1);let u={month:o,date:n.groups("date").numbers(0).get()[0]},m=new P(u,null,t);if(m.d.isValid()===!0)return m}if(n=e.match("[<date>#Value] of? [<month>#Month]"),n.found||(n=e.match("[<month>#Month] the? [<date>#Value]")),n.found){let o={month:n.groups("month").text("reduced"),date:n.groups("date").text("reduced"),year:t.today.year()},s=new P(o,null,t);if(s.d.month()<t.today.month()&&(o.year+=1,s=new P(o,null,t)),s.d.isValid()===!0)return s}if(e.has("#Month")){let o={month:e.match("#Month").text("reduced"),date:1,year:t.today.year()},s=new Q(o,null,t);if(s.d.month()<t.today.month()&&(o.year+=1,s=new Q(o,null,t)),s.d.isValid()===!0)return s}if(n=e.match("#WeekDay [<date>#Value]"),n.found){let o={month:t.today.month(),date:n.groups("date").text("reduced"),year:t.today.year()},s=new P(o,null,t);if(s.d.isValid()===!0)return s}if(n=e.match("the [<date>#Value]"),n.found){let o={month:t.today.month(),date:n.groups("date").text("reduced"),year:t.today.year()},s=new P(o,null,t);if(s.d.isValid()===!0)return s.d.isBefore(t.today)&&(s.d=s.d.add(1,"month")),s}if(n=e.match("/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/"),n.found){let o=e.text("reduced"),s=new H(o,null,t);if(s.d.isValid()===!0)return s}let r=e.text("reduced");if(!r)return new H(t.today,null,t);let i=new q(r,null,t);return i.d.isValid()===!1?null:i},Ti=function(e,t,a){let n=null;return n=n||Gr(e,t,a),n=n||Oi(e,t),n=n||Mi(e,t),n=n||_i(e,t),n=n||xi(e,t),n},zi={day:q,week:Ae,weekend:Ya,month:Q,quarter:Bt,season:Ft,hour:Xe,minute:Pa},Si=function(e,t={}){let a=zi[t.unit];if(!a)return e;let n=e.d;t.dir==="first"||t.num===0?(n=e.start().d,n=n.startOf(t.unit)):t.dir==="last"?(n=n.endOf(e.unit),t.unit==="weekend"?n=n.day("saturday",!1):n=n.startOf(t.unit)):t.num&&(t.unit==="weekend"&&(n=n.day("saturday",!0).add(1,"day")),n=n.add(t.num,t.unit));let r=new a(n,null,e.context);return r.d.isValid()===!0?r:e},Vi=function(e,t,a){if(!e&&a.weekDay&&(e=new Lt(a.weekDay,null,t),a.weekDay=null),!e)return null;if(a.shift){let n=a.shift;e.applyShift(n),n.hour||n.minute?e=new H(e.d,null,e.context):(n.week||n.day||n.month)&&(e=new q(e.d,null,e.context))}return a.weekDay&&e.unit!=="day"&&(e.applyWeekDay(a.weekDay),e=new Lt(e.d,null,e.context)),a.rel&&e.applyRel(a.rel),a.section&&e.applySection(a.section),a.time&&e.applyTime(a.time),a.counter&&a.counter.unit&&(e=Si(e,a.counter)),e};var wa={};const Ai=typeof process>"u"||!wa?self.env||{}:wa,Ci=e=>{Ai.DEBUG_DATE&&(console.log(`
==== '${e.doc.text()}' =====`),Object.keys(e).forEach(t=>{t!=="doc"&&e[t]&&console.log(t,e[t])}),e.doc.debug())},g=function(e,t){let a=Jr(e,t);if(e=a.doc,Ci(a),a.tz){t=Object.assign({},t,{timezone:a.tz});let r=t.today.format("iso-short");t.today=t.today.goto(t.timezone).set(r)}let n=Ti(e,t,a);return n=Vi(n,t,a),n},ba={mon:"monday",tue:"tuesday",tues:"wednesday",wed:"wednesday",thu:"thursday",fri:"friday",sat:"saturday",sun:"sunday",monday:"monday",tuesday:"tuesday",wednesday:"wednesday",thursday:"thursday",friday:"friday",saturday:"saturday",sunday:"sunday"},Ze=function(e){return e.match("(every|each)").found?"AND":e.match("(any|a)").found?"OR":null},qi=function(e,t){let a=e.match("[<logic>(every|any|each)] [<skip>other?] [<unit>#Duration] (starting|beginning|commencing)?");if(a.found){let n={interval:{}},r=a.groups("unit").text("reduced");return n.interval[r]=1,n.choose=Ze(a),a.groups("skip").found&&(n.interval[r]=2),e=e.remove(a),{repeat:n}}if(a=e.match("[<logic>(every|any|each)] [<num>#Value] [<unit>#Duration] (starting|beginning|commencing)?"),a.found){let n={interval:{}},r=a.groups("unit");r.nouns().toSingular();let i=r.text("reduced");return n.interval[i]=a.groups("num").numbers().get()[0],n.choose=Ze(a),e=e.remove(a),{repeat:n}}if(a=e.match("[<logic>(every|any|each|a)] [<skip>other?] [<day>#WeekDay+] (starting|beginning|commencing)?"),a.found){let n={interval:{day:1},filter:{weekDays:{}}},r=a.groups("day").text("reduced");if(r=ba[r],r)return n.filter.weekDays[r]=!0,n.choose=Ze(a),e=e.remove(a),{repeat:n}}if(a=e.match("[<logic>(every|any|each|a)] [<day>(weekday|week day|weekend|weekend day)] (starting|beginning|commencing)?"),a.found){let n={interval:{day:1},filter:{weekDays:{}}},r=a.groups("day");return r.has("(weekday|week day)")?n.filter.weekDays={monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0}:r.has("(weekend|weekend day)")&&(n.filter.weekDays={saturday:!0,sunday:!0}),n.choose=Ze(a),e=e.remove(a),{repeat:n}}if(a=e.match("[<day>(mondays|tuesdays|wednesdays|thursdays|fridays|saturdays|sundays)] (at|near|after)? [<time>#Time+?]"),a.found){let n={interval:{day:1},filter:{weekDays:{}}},r=a.groups("day").text("reduced");if(r=r.replace(/s$/,""),r=ba[r],r){n.filter.weekDays[r]=!0,n.choose="OR",e=e.remove(a);let i=a.groups("time");return i.found&&(n.time=Rt(i,t)),{repeat:n}}}return null},Te=function(e){let t=e.start,a=e.end;if(t.d.isAfter(a.d)){if(t.isWeekDay&&a.isWeekDay)return e.end.next(),e;let n=t;e.start=a,e.end=n}return e},wt=function(e){let t=e.start,a=e.end;return t.d.isAfter(a.d)&&a.d.hour()<10&&(a.d=a.d.ampm("pm")),e},Ei=[{match:"[<from>#Time+] (to|until|upto|through|thru|and) [<to>#Time+ #Date+]",desc:"3pm to 4pm january 5th",parse:(e,t)=>{let a=e.groups("from"),n=e.groups("to"),r=g(n,t);if(r){let i=r.clone();if(i.applyTime(a.text("implicit")),i){let o={start:i,end:r,unit:"time"};return/(am|pm)/.test(n)===!1&&(o=wt(o)),o=Te(o),o}}return null}},{match:"[<main>#Date+] from [<a>#Time] (to|until|upto|through|thru|and) [<b>#Time+]",desc:"january from 3pm to 4pm",parse:(e,t)=>{let a=e.groups("main"),n=e.groups("a"),r=e.groups("b");if(a=g(a,t),a){a.applyTime(n.text("implicit"));let i=a.clone();if(i.applyTime(r.text("implicit")),i){let o={start:a,end:i,unit:"time"};return/(am|pm)/.test(r.text())===!1&&(o=wt(o)),o=Te(o),o}}return null}},{match:"[<from>#Date+] (to|until|upto|through|thru|and) [<to>#Time+]",desc:"january from 3pm to 4pm",parse:(e,t)=>{let a=e.groups("from"),n=e.groups("to");if(a=g(a,t),a){let r=a.clone();if(r.applyTime(n.text("implicit")),r){let i={start:a,end:r,unit:"time"};return/(am|pm)/.test(n.text())===!1&&(i=wt(i)),i=Te(i),i}}return null}}],Ni=[{match:"^during? #Month+ (or|and) #Month [<year>#Year]?",desc:"march or june",parse:(e,t)=>{let a=e.match("^during? [#Month]",0);e=e.not("(or|and)");let n=g(a,t);if(n){let r=[{start:n,end:n.clone().end(),unit:n.unit}],i=e.not(a);i.found&&i.match("#Month").forEach(s=>{let u=g(s,t);r.push({start:u,end:u.clone().end(),unit:u.unit})});let o=e.match("#Year$");return o.found&&(o=o.text("reduced"),r.forEach(s=>{s.start.d=s.start.d.year(o),s.end.d=s.end.d.year(o)})),r}return null}},{match:"^#Month #Value+ (or|and)? #Value$",desc:"jan 5 or 8",parse:(e,t)=>{e=e.not("(or|and)");let a=e.match("^#Month #Value"),n=g(a,t);if(n){let r=[{start:n,end:n.clone().end(),unit:n.unit}],i=e.not(a);return i.found&&i.match("#Value").forEach(o=>{let s=n.clone();s.d=s.d.date(o.text("reduced")),r.push({start:s,end:s.clone().end(),unit:s.unit})}),r}return null}},{match:"^#Month+ #Value #Value+$",desc:"jan 5 8",parse:(e,t)=>{let a=e.match("#Month"),n=e.match("#Year");e=e.not("#Year");let r=[];return e.match("#Value").forEach(i=>{i=i.clone();let o=i.prepend(a.text());n.found&&o.append(n);let s=g(o,t);s&&r.push({start:s,end:s.clone().end(),unit:s.unit})}),r}},{match:"^#Value+ (or|and)? #Value of #Month #Year?$",desc:"5 or 8 of Jan",parse:(e,t)=>{let a=e.match("#Month"),n=e.match("#Year");e=e.not("#Year");let r=[];return e.match("#Value").forEach(i=>{let o=i.append(a);n.found&&o.append(n);let s=g(o,t);s&&r.push({start:s,end:s.clone().end(),unit:s.unit})}),r}},{match:"^!(between|from|during)? [<from>#Date+] (and|or) [<to>#Date+]$",desc:"A or B",parse:(e,t)=>{let a=e.groups("from"),n=e.groups("to"),r=g(a,t),i=g(n,t);return r&&i?[{start:r,end:r.clone().end()},{start:i,end:i.clone().end()}]:null}}],Pi=[{match:"between [<start>#Month] and [<end>#Month] [<year>#Year?]",desc:"between march and jan",parse:(e,t)=>{let{start:a,end:n,year:r}=e.groups(),i=r&&r.found?Number(r.text("reduced")):t.today.year(),o={month:a.text("reduced"),year:i},s=new Q(o,null,t).start();o={month:n.text("reduced"),year:i};let u=new Q(o,null,t).start();return s.d.isAfter(u.d)?{start:u,end:s}:{start:s,end:u}}},{match:"between [<start>.+] and [<end>.+]",desc:"between friday and sunday",parse:(e,t)=>{let a=e.groups("start");a=g(a,t);let n=e.groups("end");return n=g(n,t),a&&n?(n=n.before(),{start:a,end:n}):null}},{match:"[<from>#Month #Value] (to|through|thru) [<to>#Month #Value] [<year>#Year?]",desc:"june 5 to june 7",parse:(e,t)=>{let a=e.groups(),n=a.from;if(a.year&&(n=n.append(a.year)),n=g(n,t),n){let r=a.to;if(a.year&&(r=r.append(a.year)),r=g(r,t),r)return n.d.isAfter(r.d)&&(r.d=r.d.add(1,"year")),{start:n,end:r.end()}}return null}},{match:"[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]",desc:"january 5 to 7 1998",parse:(e,t)=>{let{month:a,from:n,to:r,year:i}=e.groups(),o=i.clone(),s=n.prepend(a).append(i);if(s=g(s,t),s){let u=r.prepend(a).append(o);return u=g(u,t),{start:s,end:u.end()}}return null}},{match:"[<from>#Value] (to|through|thru) [<to>#Value of? #Month #Date+?]",desc:"5 to 7 of january 1998",parse:(e,t)=>{let a=e.groups("to");if(a=g(a,t),a){let n=e.groups("from"),r=a.clone();return r.d=r.d.date(n.text("implicit")),{start:r,end:a.end()}}return null}},{match:"[<from>#Month #Value] (to|through|thru) [<to>#Value]",desc:"january 5 to 7",parse:(e,t)=>{let a=e.groups("from");if(a=g(a,t),a){let n=e.groups("to"),r=a.clone();return r.d=r.d.date(n.text("implicit")),{start:a,end:r.end()}}return null}},{match:"from? [<from>#Month] (to|until|upto|through|thru) [<to>#Month] [<year>#Year]",desc:"january to may 2020",parse:(e,t)=>{let a=e.groups("from"),n=e.groups("year").numbers().get()[0],r=e.groups("to");if(a=g(a,t),r=g(r,t),a.d=a.d.year(n),r.d=r.d.year(n),a&&r){let i={start:a,end:r.end()};return i=Te(i),i}return null}},{match:"^in [<min>#Value] to [<max>#Value] [<unit>(days|weeks|months|years)]",desc:"in 2 to 4 weeks",parse:(e,t)=>{const{min:a,max:n,unit:r}=e.groups();let i=new P(t.today,null,t),o=i.clone();const s=r.text("implicit");return i=i.applyShift({[s]:a.numbers().get()[0]}),o=o.applyShift({[s]:n.numbers().get()[0]}),{start:i,end:o.end()}}},{match:"[<min>#Value] to [<max>#Value] [<unit>(days|weeks|months|years)] (ago|before|earlier|prior)",desc:"2 to 4 weeks ago",parse:(e,t)=>{const{min:a,max:n,unit:r}=e.groups();let i=new P(t.today,null,t),o=i.clone();const s=r.text("implicit");return i=i.applyShift({[s]:-n.numbers().get()[0]}),o=o.applyShift({[s]:-a.numbers().get()[0]}),{start:i,end:o.end()}}},{match:"^until [<to>#Date+]",desc:"until christmas",parse:(e,t)=>{let a=e.groups("to");return a=g(a,t),a?{start:new P(t.today,null,t),end:a.start()}:null}},{match:"[<part>(1st|initial|2nd|latter)] half of [<month>#Month] [<year>#Year?]",desc:"second half of march",parse:(e,t)=>{const{part:a,month:n,year:r}=e.groups();let i={month:n.text("reduced"),date:1,year:r&&r.found?r.text("reduced"):t.today.year()},o=new Q(i,null,t);return a.has("(1st|initial)")?{start:o.start(),end:o.clone().middle()}:{start:o.middle(),end:o.clone().end()}}}],Yi=function(e,t){return e=e.applyShift(t.punt),e},Li=[{match:"from? [<from>.+] (to|until|upto|through|thru) [<to>.+]",desc:"from A to B",parse:(e,t)=>{let a=e.groups("from"),n=e.groups("to");if(a=g(a,t),n=g(n,t),a&&n){let r={start:a,end:n.end()};return r=Te(r),r}return null}},{match:"^due? (by|before) [.+]",desc:"before june",parse:(e,t)=>{e=e.group(0);let a=g(e,t);if(a){let n=new z(t.today,null,t);n.d.isAfter(a.d)&&(n=a.clone().applyShift({weeks:-2}));let r=a.clone().applyShift({day:-1});return{start:n,end:r.end()}}return null}},{match:"^(on|in|at|@|during) [.+]",desc:"in june",parse:(e,t)=>{e=e.group(0);let a=g(e,t);return a?{start:a,end:a.clone().end(),unit:a.unit}:null}},{match:"^(after|following) [.+]",desc:"after june",parse:(e,t)=>{e=e.group(0);let a=g(e,t);return a?(a=a.after(),{start:a.clone(),end:Yi(a.clone(),t)}):null}},{match:"^(middle|center|midpoint) of [.+]",desc:"middle of",parse:(e,t)=>{e=e.group(0);let a=g(e,t),n=a.clone().middle(),r=a.beforeEnd();return a?{start:n,end:r}:null}},{match:".+ after #Time+$",desc:"tuesday after 5pm",parse:(e,t)=>{let a=g(e,t);if(a){let n=a.clone(),r=a.end();return{start:n,end:r,unit:"time"}}return null}},{match:".+ before #Time+$",desc:"tuesday before noon",parse:(e,t)=>{let a=g(e,t);if(a){let n=a.clone(),r=a.start();if(a)return{start:r,end:n,unit:"time"}}return null}}];var ka={};const Da=[].concat(Ei,Ni,Pi,Li),Bi=typeof process>"u"||!ka?self.env||{}:ka,Ii=e=>{Bi.DEBUG_DATE&&console.log(`
  \x1B[32m ${e} \x1B[0m`)},Hi=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Wi=function(e,t){let a={start:null,end:null};if(!e.found)return a;let n=g(e,t);if(n){let r=n.clone().end();a={start:n,end:r,unit:n.setTime?"time":n.unit}}return a},Ri=function(e,t){for(let a=0;a<Da.length;a+=1){let n=Da[a],r=e.match(n.match);if(r.found){Ii(`  ---[${n.desc}]---`);let i=n.parse(r,t);if(i!==null)return Hi(i)||(i=[i]),i}}return null},Fi=function(e,t){let a=qi(e,t)||{},n=Ri(e,t);return n||(n=[Wi(e,t)]),n=n.map(r=>Object.assign({},a,r)),n.forEach(r=>{r.start&&r.end&&r.start.d.epoch>r.end.d.epoch&&(r.start=r.start.start())}),n},Ji=function(e){return e.numbers||console.warn(`
Compromise warning: compromise/three must be used with compromise-dates plugin
`),e=e.clone(),e.numbers().toNumber(),e.contractions().expand(),e.replace("week end","weekend",!0).tag("Date"),e.replace("up to","upto",!0).tag("Date"),e.has("once (a|an) #Duration")===!1&&e.match("[(a|an)] #Duration",0).replaceWith("1",{tags:!0}).compute("lexicon"),e.match("@hasDash").insertAfter("to").tag("Date"),e},oe=function(e,t){return t=t||{},t.timezone===!1&&(t.timezone="UTC"),t.today=t.today||y.now(t.timezone),t.today=y(t.today,t.timezone),e=Ji(e),Fi(e,t)},Ui=function(e){let a=e.end.d.add(1,"millisecond").since(e.start.d).diff;return delete a.milliseconds,delete a.seconds,a},va=function(e){if(!e.start)return{start:null,end:null,timezone:null,duration:{}};let t=e.end?Ui(e):{};return{start:e.start.format("iso"),end:e.end?e.end.format("iso"):null,timezone:e.start.d.format("timezone"),duration:t}},bt=function(e,t){let a=e.fromText(t),n=oe(a,e.opts)[0];return!n||!n.start||!n.start.d?null:n.start.d},Ki=function(e){class t extends e{constructor(n,r,i,o={}){super(n,r,i),this.viewType="Dates",this.opts=Object.assign({},o)}get(n){let r=[];return this.forEach(i=>{oe(i,this.opts).forEach(o=>{let s=va(o);s.start&&r.push(s)})}),typeof n=="number"?r[n]:r}json(n={}){return this.map(r=>{let i=r.toView().json(n)[0]||{};if(n&&n.dates!==!1){let o=oe(r,this.opts);o.length>0&&(i.dates=va(o[0]))}return i},[])}format(n){let i=this.map(o=>{let s=oe(o,this.opts)[0]||{};if(s.start){let u=s.start.d,m=u.format(n);if(s.end){let O=s.end.d;u.isSame(O,"day")===!1&&(m+=" to "+O.format(n))}o.replaceWith(m)}return o});return new t(this.document,i.pointer,null,this.opts)}isBefore(n){let r=bt(this,n);return this.filter(i=>{let o=oe(i,this.opts)[0]||{};return o.start&&o.start.d&&o.start.d.isBefore(r)})}isAfter(n){let r=bt(this,n);return this.filter(i=>{let o=oe(i,this.opts)[0]||{};return o.start&&o.start.d&&o.start.d.isAfter(r)})}isSame(n,r){let i=bt(this,r);return this.filter(o=>{let s=oe(o,this.opts)[0]||{};return s.start&&s.start.d&&s.start.d.isSame(i,n)})}}e.prototype.dates=function(a){let n=Ia(this);return new t(this.document,n.pointer,null,a)}},Gi=function(e){e=e.clone();let t=e.match("#Time+").match("[<hour>#Cardinal] [<min>(thirty|fifteen)]");if(t.found){let a=t.groups("hour"),n=t.groups("min"),r=a.values().get()[0];if(r>0&&r<=12){let i=n.values().get()[0],o=`${r}:${i}`;t.replaceWith(o)}}if(!e.numbers)console.warn(`Warning: compromise .numbers() not loaded.
   This plugin requires >= v14`);else{let a=e.numbers();a.toNumber(),a.toCardinal(!1)}return e.contractions&&e.contractions().expand(),e.adverbs().remove(),e.replace("week end","weekend",!0).tag("Date"),e.replace("up to","upto",!0).tag("Date"),e.has("once (a|an) #Duration")===!1&&e.match("[(a|an)] #Duration",0).replaceWith("1").compute("lexicon"),e.match("@hasDash").insertAfter("to").tag("Date"),e},Zi=function(e){return e.match("#Time+ (am|pm)?")},kt=function(e,t={}){e=Gi(e);let a=Rt(e,t);if(!a.result)return{time:null,"24h":null};let n=y.now().time(a.result);return{time:a.result,"24h":n.format("time-24"),hour:n.hour(),minute:n.minute()}},$a=(e,t)=>typeof t=="number"?e.eq(t):e,Qi=function(e){class t extends e{constructor(n,r,i,o){super(n,r,i),this.viewType="Times",this.opts=o||{}}format(n){let i=this.map(o=>{let s=kt(o)||{};if(s.time){let u=y.now().time(s.time),m=s.time;n==="24h"?m=u.format("time-24"):m=u.format(n),o=o.not("#Preposition"),o.replaceWith(m)}return o});return new t(this.document,i.pointer,null,this.opts)}get(n){return $a(this,n).map(kt)}json(n={}){return this.map(r=>{let i=r.toView().json(n)[0]||{};return n&&n.time!==!1&&(i.time=kt(r)),i},[])}}e.prototype.times=function(a){let n=Zi(this);return n=$a(n,a),new t(this.document,n.pointer)}},Oa={century:!0,day:!0,decade:!0,hour:!0,millisecond:!0,minute:!0,month:!0,second:!0,weekend:!0,week:!0,year:!0,quarter:!0,season:!0};let le={m:"minute",h:"hour",hr:"hour",min:"minute",sec:"second","week end":"weekend",wk:"week",yr:"year",qtr:"quarter"};Object.keys(le).forEach(e=>{le[e+"s"]=le[e]});const ja=function(e){let t={},a=e.match("#Value+ #Duration");if(a.found)a.forEach(n=>{let r=n.numbers().get()[0],i=n.terms().last().text("reduced");i=i.replace(/ies$/,"y"),i=i.replace(/s$/,""),le.hasOwnProperty(i)&&(i=le[i]),Oa.hasOwnProperty(i)&&r!==null&&(t[i]=r)});else if(e.match("(#Duration && /[0-9][a-z]+$/)").found){let r=e.text(),i=r.match(/([0-9]+)/),o=r.match(/([a-z]+)/);i&&o&&(i=i[0]||null,o=o[0]||null,le.hasOwnProperty(o)&&(o=le[o]),Oa.hasOwnProperty(o)&&i!==null&&(t[o]=Number(i)))}return t},Xi=function(e){class t extends e{constructor(n,r,i){super(n,r,i),this.context={}}json(n={}){return this.map(r=>{let i=r.toView().json(n)[0]||{};return n&&n.duration!==!1&&(i.duration=ja(r)),i},[])}get(n){let r=[];return this.forEach(i=>{let o=ja(i);r.push(o)}),typeof n=="number"?r[n]:r}}e.prototype.durations=function(a){let n=this.match("#Value+ #Duration (and? #Value+ #Duration)?");return n=n.notIf("#DateShift"),typeof a=="number"&&(n=n.eq(a)),new t(this.document,n.pointer)}},eo=function(e){Ki(e),Qi(e),Xi(e)},Ma="(start|end|middle|starting|ending|midpoint|beginning)",R=(e,t)=>{e.found===!0&&e.forEach(a=>{let n=a.text("reduced"),r=parseInt(n,10);r&&r>1e3&&r<3e3&&a.tag("Year",t)})},Qe=(e,t)=>{e.found===!0&&e.forEach(a=>{let n=a.text("reduced"),r=parseInt(n,10);r&&r>1900&&r<2030&&a.tag("Year",t)})},to=function(e){e.match("(march|april|may) (and|to|or|through|until)? (march|april|may)").tag("Date").match("(march|april|may)").tag("Month","march|april|may");let t=e.if("#Cardinal");if(t.found===!0){let n=t.match("#Date #Value [#Cardinal]",0);R(n,"date-value-year"),n=t.match("#Date [#Cardinal]",0),Qe(n,"date-year"),n=t.match(`${Ma} of [#Cardinal]`),Qe(n,"section-year"),n=t.match("#Month #Value [#Cardinal]",0),R(n,"month-value-year"),n=t.match("#Month #Value to #Value [#Cardinal]",0),R(n,"month-range-year"),n=t.match("(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]",0),R(n,"in-year-1"),n=t.match("(q1|q2|q3|q4) [#Cardinal]",0),R(n,"in-year-2"),n=t.match("#Ordinal quarter of? [#Cardinal]",0),R(n,"in-year-3"),n=t.match("the year [#Cardinal]",0),R(n,"in-year-4"),n=t.match("it (is|was) [#Cardinal]",0),Qe(n,"in-year-5"),t.match(`${Ma} of #Year`).tag("Date");let r=t.match("between [#Cardinal] and [#Cardinal]");R(r.groups("0"),"between-year-and-year-1"),R(r.groups("1"),"between-year-and-year-2")}let a=e.match("^/^20[012][0-9]$/$");return Qe(a,"2020-ish"),e},A=function(e,t){e.found&&(e.tag("Date",t),e.numbers().lessThan(31).ifNo("#Year").tag("#Time",t))},ao=function(e){let t=e.if("#Date");if(t.found){let a=t.if("#NumberRange");if(a.found){let r=a.match("[#NumberRange+] (on|by|at)? #WeekDay",0);A(r,"3-4-tuesday"),r=a.match("[#NumberRange+] (on|by|at)? #Month #Value",0),A(r,"3-4 mar 3"),r=a.match("[#NumberRange] to (#NumberRange && #Time)",0),A(r,"3-4pm"),r=a.match("(#NumberRange && #Time) to [#NumberRange]",0),A(r,"3pm-4")}let n=t.match("(from|between) #Cardinal and #Cardinal (in|on)? (#WeekDay|tomorrow|yesterday)");A(n,"from 9-5 tues"),n=e.match("#Cardinal to #Cardinal (#WeekDay|tomorrow|yesterday)"),A(n,"9-5 tues"),n=t.match("(from|between) [#NumericValue] (to|and) #Time",0).tag("Time","4-to-5pm"),A(n,"from 9-5pm"),n=t.match("(#WeekDay|tomorrow|yesterday) (from|between)? (#Cardinal|#Time) (and|to) (#Cardinal|#Time)"),A(n,"tues 3-5"),n=t.match("#Month #Value+ (from|between) [<time>(#Cardinal|#Time) (and|to) (#Cardinal|#Time)]").group("time"),A(n,"sep 4 from 9-5"),n=t.match("#Time to #Cardinal on? #Date"),A(n,"3pm-4 wed"),n=t.match("#Cardinal to #Time on? #Date"),A(n,"3-4pm wed"),n=t.match("#Cardinal to #Cardinal on? (#WeekDay|#Month #Value)"),A(n,"3-4 wed")}return e},no=["act","aft","akst","anat","art","azot","azt","bnt","bot","bt","cast","cat","cct","chast","chut","ckt","cvt","cxt","davt","eat","ect","fjt","fkst","fnt","gamt","get","gft","gilt","gyt","hast","hncu","hneg","hnnomx","hnog","hnpm","hnpmx","hntn","hovt","iot","irkt","jst","kgt","kost","lint","magt","mart","mawt","mmt","nct","nft","novt","npt","nrt","nut","nzst","omst","pet","pett","phot","phst","pont","pwt","ret","sakt","samt","sbt","sct","sret","srt","syot","taht","tft","tjt","tkt","tlt","tmt","tot","tvt","ulat","vut","wakt","wat","wet","wft","wit","wst","yekt"].reduce((e,t)=>(e[t]=!0,e),{}),ro=function(e){let t=e.match("#Time [#Acronym]",0);if(t.found){let a=t.text("reduced");no[a]===!0&&t.tag("Timezone","tz-abbr")}},io="fix-tagger",oo=function(e){if(e.has("#Date")){let t=e.match("#Date+ by #Date+");t.found&&!t.has("^due")&&t.match("^#Date+").unTag("Date","by-monday");let a=e.match("#Date+");a.has("^between")&&!a.has("and .")&&a.unTag("Date",io),a.has("(minutes|seconds|weeks|hours|days|months)")&&!a.has("#Value #Duration")&&a.match("(minutes|seconds|weeks|hours|days|months)").unTag("Date","log-hours"),a.has("about #Holiday")&&a.match("about").unTag("#Date","about-thanksgiving"),a.match("#Date+").match("^the").unTag("Date")}return e},Dt="(in|by|before|during|on|until|after|of|within|all)",_a="(last|next|this|previous|current|upcoming|coming)",vt="(start|end|middle|starting|ending|midpoint|beginning|mid)",$t="(spring|summer|winter|fall|autumn)",xa="(yesterday|today|tomorrow)";let so=[{match:"in the (night|evening|morning|afternoon|day|daytime)",tag:"Time",reason:"in-the-night"},{match:"(#Value|#Time) (am|pm)",tag:"Time",reason:"value-ampm"},{match:"(tue|thu)",tag:"WeekDay",reason:"misc-weekday"},{match:"#Month #Date+",tag:"Date",reason:"correction-numberRange"},{match:"#Value of #Month",tag:"Date",unTag:"Time",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value (and|or|to)? #Value+",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"[(march|may)] to? #Date",group:0,tag:"Month",reason:"march-to"},{match:"^(march|may)$",tag:"Month",reason:"single-march"},{match:"#Month or #Month",tag:"Date",reason:"month-or-month"},{match:"(#WeekDay|#Month) #Value",ifNo:"#Money",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",ifNo:"#Money",tag:"Date",reason:"value-date"},{match:"#Value (#WeekDay|#Duration) back",tag:"#Date",reason:"3-back"},{match:"for #Value #Duration",tag:"Date",reason:"for-x-duration"},{match:"#Value #Duration (before|ago|hence|back)",tag:"Date",reason:"val-duration-past"},{match:`${Dt}? #Value #Duration`,tag:"Date",reason:"value-duration"},{match:"in? #Value to #Value #Duration time?",tag:"Date",reason:"6-to-8-years"},{match:"#Value #Duration old",unTag:"Date",reason:"val-years-old"},{match:`${Dt}? ${_a} ${$t}`,tag:"Date",reason:"thisNext-season"},{match:`the? ${vt} of ${$t}`,tag:"Date",reason:"section-season"},{match:`${$t} ${Dt}? #Cardinal`,tag:"Date",reason:"season-year"},{match:"#Date the? #Ordinal",tag:"Date",reason:"correction"},{match:`${_a} #Date`,tag:"Date",reason:"thisNext-date"},{match:"due? (by|before|after|until) #Date",tag:"Date",reason:"by"},{match:"(last|next|this|previous|current|upcoming|coming|the) #Date",tag:"Date",reason:"next-feb"},{match:`#Preposition? the? ${vt} of #Date`,tag:"Date",reason:"section-of"},{match:"#Ordinal #Duration in #Date",tag:"Date",reason:"duration-in"},{match:"(early|late) (at|in)? the? #Date",tag:"Time",reason:"early-evening"},{match:"#Date [(by|before|after|at|@|about) #Cardinal]",group:0,tag:"Time",reason:"date-before-Cardinal"},{match:"#Date (#Preposition|to) #Date",ifNo:"#Duration",tag:"Date",reason:"date-prep-date"},{match:"(by|before|after|at|@|about) #Time",tag:"Time",reason:"preposition-time"},{match:"(in|after) /^[0-9]+(min|sec|wk)s?/",tag:"Date",reason:"shift-units"},{match:"#Date [(now|night|sometime)]",group:0,tag:"Time",reason:"date-now"},{match:"(from|starting|until|by) now",tag:"Date",reason:"for-now"},{match:"(each|every) night",tag:"Date",reason:"for-now"},{match:"#Date [(am|pm)]",group:0,tag:"Time",reason:"date-am"},{match:`[${vt}] #Date`,group:0,tag:"Date",reason:"mid-sept"},{match:"#Month #Value to #Value of? #Year?",tag:"Date",reason:"june 5 to 7th"},{match:"#Value to #Value of? #Month #Year?",tag:"Date",reason:"5 to 7th june"},{match:"#Value #Duration of #Date",tag:"Date",reason:"third week of may"},{match:"#Value+ #Duration (after|before|into|later|afterwards|ago)?",tag:"Date",reason:"two days after"},{match:"#Value #Date",tag:"Date",reason:"two days"},{match:"#Date #Value",tag:"Date",reason:"june 5th"},{match:"#Date #Preposition #Value",tag:"Date",reason:"tuesday at 5"},{match:"#Date (after|before|during|on|in) #Value",tag:"Date",reason:"tomorrow before 3"},{match:"#Value (year|month|week|day) and a half",tag:"Date",reason:"a year and a half"},{match:"#Value and a half (years|months|weeks|days)",tag:"Date",reason:"5 and a half years"},{match:"on the #Ordinal",tag:"Date",reason:"on the fifth"},{match:"#Month #Value+ (and|or) #Value",tag:"Date",reason:"date-or-date"},{match:"#Value+ (and|or) #Value of #Month ",tag:"Date",reason:"date-and-date"},{match:"(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)",tag:"Season",reason:"date-tag1"},{match:"(q1|q2|q3|q4)",tag:"FinancialQuarter",reason:"date-tag2"},{match:"(this|next|last|current) quarter",tag:"FinancialQuarter",reason:"date-tag3"},{match:"(this|next|last|current) season",tag:"Season",reason:"date-tag4"},{match:"#Date #Preposition #Date",tag:"Date",reason:"friday to sunday"},{match:"(once|twice) (a|an|each) #Date",tag:"Date",reason:"once a day"},{match:"a #Duration",tag:"Date",reason:"a year"},{match:"(between|from) #Date",tag:"Date",reason:"between x and y"},{match:"(to|until|upto) #Date",tag:"Date",reason:"between x and y2"},{match:"between #Date+ and #Date+",tag:"Date",reason:"between x and y3"},{match:"#Month and #Month #Year",tag:"Date",reason:"x and y4"},{match:"the? #Date after next one?",tag:"Date",reason:"day after next"},{match:"(about|approx|approximately|around) #Date",tag:"Date",reason:"approximately june"},{match:"(by|until|on|in|at|during|over|every|each|due) the? #Date",ifNo:"#PhrasalVerb",tag:"Date",reason:"until june"},{match:"(by|until|after|before|during|on|in|following|since) (next|this|last)? #Date",ifNo:"#PhrasalVerb",tag:"Date",reason:"until last june"},{match:"this? (last|next|past|this|previous|current|upcoming|coming|the) #Date",tag:"Date",reason:"next september"},{match:"(starting|beginning|ending) #Date",tag:"Date",reason:"starting this june"},{match:"the? (start|end|middle|beginning) of (last|next|this|the) #Date",tag:"Date",reason:"start of june"},{match:"(the|this) #Date",tag:"Date",reason:"this coming june"},{match:"#Date up to #Date",tag:"Date",reason:"january up to june"},{match:"#Cardinal oclock",tag:"Time",reason:"2 oclock"},{match:"#Value (in|at) the? (morning|evening|night|nighttime)",tag:"Time",reason:"3 in the morning"},{match:"(5|10|15|20|five|ten|fifteen|quarter|twenty|half) (after|past) #Cardinal",tag:"Time",reason:"ten to seven"},{match:"(at|by|before) (5|10|15|20|five|ten|fifteen|twenty|quarter|half) (after|past|to)",tag:"Time",reason:"at-20-past"},{match:"#Date [at #Cardinal]",group:0,ifNo:"#Year",tag:"Time",reason:" tuesday at 4"},{match:"half an (hour|minute|second)",tag:"Date",reason:"half an hour"},{match:"(in|for|by|near|at) #Timezone",tag:"Date",reason:"in eastern time"},{match:"#Time to #Time",tag:"Date",reason:"3pm to 4pm"},{match:"#Time [(sharp|on the dot)]",group:0,tag:"Time",reason:"4pm sharp"},{match:"(at|around|near|#Date) [#Cardinal (thirty|fifteen) (am|pm)?]",group:0,tag:"Time",reason:"around four thirty"},{match:"#Cardinal (thirty|fifteen) (am|pm)",tag:"Time",reason:"four thirty am"},{match:"[#Cardinal (thirty|fifteen)] #Date",group:0,tag:"Time",reason:"four thirty tomorrow"},{match:"(anytime|sometime) (before|after|near) [#Cardinal]",group:0,tag:"Time",reason:"antime-after-3"},{match:"(#Cardinal|a|an) #Duration (before|after|ago|from|hence|back)",tag:"DateShift",reason:"nine weeks frow now"},{match:"in (around|about|maybe|perhaps)? #Cardinal #Duration",tag:"DateShift",reason:"in two weeks"},{match:"in (a|an) #Duration",tag:"DateShift",reason:"in a week"},{match:"[(a|an) #Duration from] #Date",group:0,tag:"DateShift",reason:"an hour from now"},{match:"(a|an) #Duration ago",tag:"DateShift",reason:"a month ago"},{match:"in half (a|an) #Duration",tag:"DateShift",reason:"in half an hour"},{match:"in a (few|couple) of? #Duration",tag:"DateShift",reason:"in a few weeks"},{match:"[#Duration (after|before)] #Date",group:0,tag:"DateShift",reason:"day after tomorrow"},{match:"#Month #Ordinal and #Ordinal",tag:"Date",reason:"ord-and-ord"},{match:"every other #Duration",tag:"Date",reason:"every-other"},{match:"(every|any|each|a) (day|weekday|week day|weekend|weekend day)",tag:"Date",reason:"any-weekday"},{match:"(every|any|each|a) (#WeekDay)",tag:"Date",reason:"any-wednesday"},{match:"(every|any|each|a) (#Duration)",tag:"Date",reason:"any-week"},{match:"[(wed|sat)] (#Month|#Year|on|between|during|from)",group:0,tag:"WeekDay",reason:"wed"},{match:"^day$",unTag:"Date",reason:"spa-day"},{match:"(in|of|by|for)? (#Possessive && #Date)",unTag:"Date",reason:"tomorrows meeting"},{match:`${xa} [#Value]$`,unTag:"Date",group:0,reason:"yesterday-7"},{match:`^[#Value] ${xa}$`,group:0,unTag:"Date",reason:"7 yesterday"},{match:"on #Cardinal$",unTag:"Date",reason:"on 5"},{match:"[this] tomorrow",group:0,unTag:"Date",reason:"this-tomorrow"},{match:"(q1|q2|q3|q4) #Year",tag:"Date",reason:"q2 2016"},{match:"^[#Value] (this|next|last)",group:0,unTag:"Date",reason:"4 next"},{match:"(last|this|next) #Duration [#Value]",group:0,unTag:"Date",reason:"this month 7"},{match:"[!#Month] #Value (last|this|next) #Date",group:0,unTag:"Date",reason:"7 this month"},{match:"(in|over) the #Duration #Date+?",unTag:"Date",reason:"over-the-duration"},{match:"#Ordinal quarter of? #Year",unTag:"Fraction"},{match:"(from|by|before) now",unTag:"Time",tag:"Date"},{match:"#Value of? (this|next|last) #Date",tag:"Date"},{match:"(first|initial|second|latter) half of #Month",tag:"Date"}],Ot=null;const Ta=function(e){let{world:t}=e;Ot=Ot||t.methods.one.buildNet(so,t),e.sweep(Ot)},uo=function(e){return e.cache(),Ta(e),Ta(e),to(e),ao(e),ro(e),oo(e),e.uncache(),e.match("#Cardinal #Duration and? #DateShift").tag("DateShift","three days before"),e.match("#DateShift and #Cardinal #Duration").tag("DateShift","three days and two weeks"),e.match("#Time [(sharp|on the dot)]").tag("Time","4pm sharp"),e},lo={dates:uo},ho={FinancialQuarter:{is:"Date",not:["Fraction"]},Season:{is:"Date"},Year:{is:"Date",not:["RomanNumeral"]},Holiday:{is:"Date",also:"Noun"},DateShift:{is:"Date",not:["Timezone","Holiday"]}},d="America/",f="Asia/",v="Europe/",C="Africa/",j="Australia/",I="Pacific/",mo={"british summer time":v+"London",bst:v+"London","british time":v+"London","britain time":v+"London","irish summer time":v+"Dublin","irish time":v+"Dublin","central european time":v+"Berlin",cet:v+"Berlin","central european summer time":v+"Berlin",cest:v+"Berlin","central europe":v+"Berlin","eastern european time":v+"Riga",eet:v+"Riga","eastern european summer time":v+"Riga",eest:v+"Riga","eastern europe time":v+"Riga","western european time":v+"Lisbon","western european summer time":v+"Lisbon","turkey standard time":v+"Istanbul","turkish time":v+"Istanbul",utc:C+"Freetown","greenwich standard time":C+"Freetown",gmt:C+"Freetown","east africa time":C+"Nairobi","east african time":C+"Nairobi","eastern africa time":C+"Nairobi","central africa time":C+"Khartoum","central african time":C+"Khartoum","south africa standard time":C+"Johannesburg","west africa standard time":C+"Lagos","western africa time":C+"Lagos","west african time":C+"Lagos","australian central standard time":j+"Adelaide",acst:j+"Adelaide","australian central daylight time":j+"Adelaide",acdt:j+"Adelaide","australian eastern standard time":j+"Brisbane",aest:j+"Brisbane","australian eastern daylight time":j+"Brisbane",aedt:j+"Brisbane","australian western standard time":j+"Perth",awst:j+"Perth","australian western daylight time":j+"Perth",awdt:j+"Perth","australian central western standard time":j+"Eucla",acwst:j+"Eucla","lord howe standard time":j+"Lord_Howe",lhst:j+"Lord_Howe","lord howe daylight time":j+"Lord_Howe",lhdt:j+"Lord_Howe","russian standard time":v+"Moscow",msk:v+"Moscow","central standard time":d+"Chicago","central time":d+"Chicago",cst:d+"Havana","central daylight time":d+"Chicago",cdt:d+"Havana","mountain standard time":d+"Denver","mountain time":d+"Denver",mst:d+"Denver","mountain daylight time":d+"Denver",mdt:d+"Denver","atlantic standard time":d+"Halifax","atlantic time":d+"Halifax",ast:f+"Baghdad","atlantic daylight time":d+"Halifax",adt:d+"Halifax","eastern standard time":d+"New_York","eastern time":d+"New_York",est:d+"New_York","eastern daylight time":d+"New_York",edt:d+"New_York","pacific time":d+"Los_Angeles","pacific standard time":d+"Los_Angeles",pst:d+"Los_Angeles","pacific daylight time":d+"Los_Angeles",pdt:d+"Los_Angeles","alaskan standard time":d+"Anchorage","alaskan time":d+"Anchorage",ahst:d+"Anchorage","alaskan daylight time":d+"Anchorage",ahdt:d+"Anchorage","hawaiian standard time":I+"Honolulu","hawaiian time":I+"Honolulu",hst:I+"Honolulu","aleutian time":I+"Honolulu","hawaii time":I+"Honolulu","newfoundland standard time":d+"St_Johns","newfoundland time":d+"St_Johns","newfoundland daylight time":d+"St_Johns","brazil time":d+"Sao_Paulo","brazilian time":d+"Sao_Paulo","argentina time":d+"Buenos_Aires","argentinian time":d+"Buenos_Aires","amazon time":d+"Manaus","amazonian time":d+"Manaus","easter island standard time":"Chile/Easterisland","easter island summer time":"Chile/Easterisland",easst:"Chile/Easterisland","venezuelan standard time":d+"Caracas","venezuelan time":d+"Caracas","venezuela time":d+"Caracas","paraguay time":d+"Asuncion","paraguay summer time":d+"Asuncion","cuba standard time":d+"Havana","cuba time":d+"Havana","cuba daylight time":d+"Havana","cuban time":d+"Havana","bolivia time":d+"La_Paz","bolivian time":d+"La_Paz","colombia time":d+"Bogota","colombian time":d+"Bogota","acre time":d+"Eirunepe","peru time":d+"Lima","chile standard time":d+"Punta_Arenas","chile time":d+"Punta_Arenas",clst:d+"Punta_Arenas","chile summer time":d+"Punta_Arenas",cldt:d+"Punta_Arenas","uruguay time":d+"Montevideo",uyt:d+"Montevideo","arabic standard time":f+"Baghdad","iran standard time":f+"Tehran","iran time":f+"Tehran","iran daylight time":f+"Tehran","pakistan standard time":f+"Karachi","pakistan time":f+"Karachi","india standard time":f+"Kolkata","indian time":f+"Kolkata","indochina time":f+"Bangkok","china standard time":f+"Shanghai","alma-ata time":f+"Almaty","oral time":f+"Oral","orat time":f+"Oral","yakutsk time":f+"Yakutsk",yakt:f+"Yakutsk","gulf standard time":f+"Dubai","gulf time":f+"Dubai","hong kong time":f+"Hong_Kong","western indonesian time":f+"Jakarta","indonesia time":f+"Jakarta","central indonesian time":f+"Makassar","israel daylight time":f+"Jerusalem","israel standard time":f+"Jerusalem","israel time":f+"Jerusalem","krasnoyarsk time":f+"Krasnoyarsk","malaysia time":f+"Kuala_Lumpur","singapore time":f+"Singapore","korea standard time":f+"Seoul","korea time":f+"Seoul",kst:f+"Seoul","korean time":f+"Seoul","uzbekistan time":f+"Samarkand","vladivostok time":f+"Vladivostok","maldives time":"Indian/Maldives","mauritius time":"Indian/Mauritius","marshall islands time":I+"Kwajalein","samoa standard time":I+"Midway","somoan time":I+"Midway","chamorro standard time":I+"Guam","papua new guinea time":I+"Bougainville"};let co=y().timezones,fo=Object.keys(co).reduce((e,t)=>(e[t]=t,e),{});const yo=Object.assign({},mo,fo),po=["weekday","summer","winter","autumn","all day","eod","eom","eoy","standard time","daylight time","tommorrow"],go=["centuries","century","day","days","decade","decades","hour","hours","hr","hrs","millisecond","milliseconds","minute","minutes","min","mins","month","months","seconds","sec","secs","week end","week ends","weekend","weekends","week","weeks","wk","wks","year","years","yr","yrs","quarter","qtr","qtrs","season","seasons"],wo=["all hallows eve","all saints day","all sts day","april fools","armistice day","australia day","bastille day","boxing day","canada day","christmas eve","christmas","cinco de mayo","day of the dead","dia de muertos","dieciseis de septiembre","emancipation day","grito de dolores","groundhog day","halloween","harvey milk day","inauguration day","independence day","independents day","juneteenth","labour day","national freedom day","national nurses day","new years eve","new years","purple heart day","rememberance day","rosa parks day","saint andrews day","saint patricks day","saint stephens day","saint valentines day","st andrews day","st patricks day","st stephens day","st valentines day ","valentines day","valentines","veterans day","victoria day","womens equality day","xmas","epiphany","orthodox christmas day","orthodox new year","assumption of mary","all souls day","feast of the immaculate conception","feast of our lady of guadalupe","kwanzaa","imbolc","beltaine","lughnassadh","samhain","martin luther king day","mlk day","presidents day","mardi gras","tax day","commonwealth day","mothers day","memorial day","fathers day","columbus day","indigenous peoples day","canadian thanksgiving","election day","thanksgiving","t-day","turkey day","black friday","cyber monday","ash wednesday","palm sunday","maundy thursday","good friday","holy saturday","easter","easter sunday","easter monday","orthodox good friday","orthodox holy saturday","orthodox easter","orthodox easter monday","ascension day","pentecost","whitsunday","whit sunday","whit monday","trinity sunday","corpus christi","advent","tu bishvat","tu bshevat","purim","passover","yom hashoah","lag baomer","shavuot","tisha bav","rosh hashana","yom kippur","sukkot","shmini atzeret","simchat torah","chanukah","hanukkah","isra and miraj","lailat al-qadr","eid al-fitr","id al-Fitr","eid ul-Fitr","ramadan","eid al-adha","muharram","the prophets birthday","ostara","march equinox","vernal equinox","litha","june solistice","summer solistice","mabon","september equinox","fall equinox","autumnal equinox","yule","december solstice","winter solstice","chinese new year","diwali"],bo=["noon","midnight","morning","tonight","evening","afternoon","breakfast time","lunchtime","dinnertime","midday","eod","oclock","oclock","at night"];let La={"a couple":"Value",thur:"WeekDay",thurs:"WeekDay"};const qe=function(e,t){e.forEach(a=>{La[a]=t})};qe(Object.keys(yo),"Timezone");qe(po,"Date");qe(go,"Duration");qe(wo,"Holiday");qe(bo,"Time");const ko=[[/^[0-9]+(min|sec|hr|d)s?$/i,"Duration","30min"],[/^[0-9]{4}-[0-9]{2}$/,"Date","2012-06"],[/^[0-9]{2}h[0-9]{2}$/i,"Time","13h30"],[/^@[0-9]+:[0-9]{2}$/,"Time","@5:30"],[/^@[1-9]+(am|pm)$/,"Time","@5pm"],[/^(?:0[1-9]|[12]\d|3[01])\/(?:0[1-9]|[12]\d|3[01])$/,"Date","03/02"]],Do="3.7.1",za=e=>e?y(e).format("{nice-day} {year}"):"-",Me="\x1B[0m",jt={magenta:e=>"\x1B[35m"+e+Me,cyan:e=>"\x1B[36m"+e+Me,yellow:e=>"\x1B[33m"+e+Me,dim:e=>"\x1B[2m"+e+Me,i:e=>"\x1B[3m"+e+Me},vo=function(e){e.dates().forEach(t=>{let a=t.dates().get()[0];console.log(`
`),t.debug("highlight");let n="";a&&a.start&&(n="   "+jt.magenta(za(a.start))),a&&a.end&&(n+=jt.dim("      ")+jt.cyan(za(a.end))),console.log(n+`
`)})},$o={tags:ho,words:La,compute:lo,api:eo,mutate:e=>{e.model.two.regexText=e.model.two.regexText||[],e.model.two.regexText=e.model.two.regexText.concat(ko),e.methods.one.debug=e.methods.one.debug||{},e.methods.one.debug.dates=vo},hooks:["dates"],version:Do};Sa.plugin($o);const Oo=[/\[\d{4}\]\s+\d*\s*SLR\(R\)\s+\d+/gi,/\[\d{4}\]\s+\d*\s*SLR\s+\d+/gi,/\[\d{4}\]\s+SGCA\s+\d+/gi,/\[\d{4}\]\s+SGHC\s+\d+/gi,/\[\d{4}\]\s+SGDC\s+\d+/gi,/\[\d{4}\]\s+SGMC\s+\d+/gi,/Cap\.?\s+\d+[A-Z]?/gi],jo=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,Mo=/(?:\+65\s?)?[689]\d{3}\s?\d{4}/g,_o=/https?:\/\/[^\s]+/g;function To(e){const t=[],a=Sa(e);a.people().forEach(u=>{t.push({text:u.text(),type:"person"})}),a.organizations().forEach(u=>{t.push({text:u.text(),type:"organization"})}),a.places().forEach(u=>{t.push({text:u.text(),type:"place"})}),a.dates().forEach(u=>{t.push({text:u.text(),type:"date"})}),a.money().forEach(u=>{t.push({text:u.text(),type:"money"})});for(const u of Oo){const m=e.match(u);if(m)for(const O of m)t.some(L=>L.text===O&&L.type==="legal_citation")||t.push({text:O,type:"legal_citation"})}const n=e.match(jo);if(n)for(const u of n)t.push({text:u,type:"email"});const r=e.match(Mo);if(r)for(const u of r)t.push({text:u,type:"phone"});const i=e.match(_o);if(i)for(const u of i)t.push({text:u,type:"url"});const o=t.filter((u,m,O)=>m===O.findIndex(L=>L.text===u.text&&L.type===u.type)),s={persons:o.filter(u=>u.type==="person").length,organizations:o.filter(u=>u.type==="organization").length,places:o.filter(u=>u.type==="place").length,dates:o.filter(u=>u.type==="date").length,money:o.filter(u=>u.type==="money").length,legalCitations:o.filter(u=>u.type==="legal_citation").length,emails:o.filter(u=>u.type==="email").length,phones:o.filter(u=>u.type==="phone").length,urls:o.filter(u=>u.type==="url").length,total:o.length};return{entities:o,summary:s}}function zo(e){const{entities:t,summary:a}=e;if(a.total===0)return"No entities found in the provided text.";let n=`## Entity Extraction Results

`;n+=`**Total entities found: ${a.total}**

`;const r=[{type:"person",label:"People",count:a.persons},{type:"organization",label:"Organizations",count:a.organizations},{type:"place",label:"Places",count:a.places},{type:"date",label:"Dates",count:a.dates},{type:"money",label:"Monetary Values",count:a.money},{type:"legal_citation",label:"Legal Citations",count:a.legalCitations},{type:"email",label:"Email Addresses",count:a.emails},{type:"phone",label:"Phone Numbers",count:a.phones},{type:"url",label:"URLs",count:a.urls}];for(const i of r)if(i.count>0){n+=`### ${i.label} (${i.count})
`;const o=t.filter(s=>s.type===i.type);for(const s of o)n+=`- ${s.text}
`;n+=`
`}return n+=`---
*Extracted using local NLP processing (no AI service required)*`,n}export{To as extractEntities,zo as formatEntityResults};

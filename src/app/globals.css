@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Vanilla (Default) Light */
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
  }

  .dark {
    /* Vanilla (Default) Dark */
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
  }
}

/* Gruvbox Theme */
html[data-theme='gruvbox'] {
  /* Light */
  --background: 48 85% 88%;
  --foreground: 17 5% 23%;
  --card: 48 85% 88%;
  --card-foreground: 17 5% 23%;
  --popover: 48 85% 88%;
  --popover-foreground: 17 5% 23%;
  --primary: 36 80% 39%;
  --primary-foreground: 48 85% 88%;
  --secondary: 44 14% 83%;
  --secondary-foreground: 17 5% 23%;
  --muted: 44 14% 83%;
  --muted-foreground: 17 5% 45%;
  --accent: 44 14% 83%;
  --accent-foreground: 17 5% 23%;
  --destructive: 0 68% 42%;
  --destructive-foreground: 48 85% 88%;
  --border: 17 5% 23%;
  --input: 17 5% 23%;
  --ring: 36 80% 39%;
}

html[data-theme='gruvbox'].dark {
  /* Dark */
  --background: 0 0% 16%;
  --foreground: 44 15% 81%;
  --card: 0 0% 16%;
  --card-foreground: 44 15% 81%;
  --popover: 0 0% 16%;
  --popover-foreground: 44 15% 81%;
  --primary: 42 94% 58%;
  --primary-foreground: 0 0% 16%;
  --secondary: 0 0% 31%;
  --secondary-foreground: 44 15% 81%;
  --muted: 0 0% 31%;
  --muted-foreground: 44 15% 61%;
  --accent: 0 0% 31%;
  --accent-foreground: 44 15% 81%;
  --destructive: 0 81% 66%;
  --destructive-foreground: 0 0% 16%;
  --border: 0 0% 31%;
  --input: 0 0% 31%;
  --ring: 42 94% 58%;
}

/* Everforest Theme */
html[data-theme='everforest'] {
  /* Light */
  --background: 48 100% 94%;
  --foreground: 201 11% 40%;
  --card: 48 100% 94%;
  --card-foreground: 201 11% 40%;
  --popover: 48 100% 94%;
  --popover-foreground: 201 11% 40%;
  --primary: 82 33% 52%;
  --primary-foreground: 48 100% 94%;
  --secondary: 44 18% 87%;
  --secondary-foreground: 201 11% 40%;
  --muted: 44 18% 87%;
  --muted-foreground: 201 11% 60%;
  --accent: 44 18% 87%;
  --accent-foreground: 201 11% 40%;
  --destructive: 1 59% 55%;
  --destructive-foreground: 48 100% 94%;
  --border: 201 11% 80%;
  --input: 201 11% 80%;
  --ring: 82 33% 52%;
}

html[data-theme='everforest'].dark {
  /* Dark */
  --background: 206 14% 20%;
  --foreground: 44 11% 75%;
  --card: 206 14% 20%;
  --card-foreground: 44 11% 75%;
  --popover: 206 14% 20%;
  --popover-foreground: 44 11% 75%;
  --primary: 84 30% 64%;
  --primary-foreground: 206 14% 20%;
  --secondary: 206 12% 26%;
  --secondary-foreground: 44 11% 75%;
  --muted: 206 12% 26%;
  --muted-foreground: 204 6% 56%;
  --accent: 206 12% 26%;
  --accent-foreground: 44 11% 75%;
  --destructive: 1 59% 55%;
  --destructive-foreground: 206 14% 20%;
  --border: 206 12% 26%;
  --input: 206 12% 26%;
  --ring: 84 30% 64%;
}

/* Tokyo Night Theme */
html[data-theme='tokyo-night'] {
  /* Light (Day) */
  --background: 228 14% 89%; /* #e1e2e7 */
  --foreground: 226 26% 27%; /* #343b58 - Fixed contrast */
  --card: 228 14% 89%;
  --card-foreground: 226 26% 27%;
  --popover: 228 14% 89%;
  --popover-foreground: 226 26% 27%;
  --primary: 223 45% 44%; /* #3d59a1 */
  --primary-foreground: 228 14% 89%;
  --secondary: 227 15% 85%; /* #d5d6db */
  --secondary-foreground: 226 26% 27%;
  --muted: 227 15% 85%;
  --muted-foreground: 226 15% 55%;
  --accent: 227 15% 85%;
  --accent-foreground: 226 26% 27%;
  --destructive: 345 54% 64%; /* #f52a65 */
  --destructive-foreground: 228 14% 89%;
  --border: 226 26% 80%;
  --input: 226 26% 80%;
  --ring: 223 45% 44%;
}

html[data-theme='tokyo-night'].dark {
  /* Dark */
  --background: 235 19% 13%;
  --foreground: 229 66% 86%;
  --card: 235 19% 13%;
  --card-foreground: 229 66% 86%;
  --popover: 235 19% 13%;
  --popover-foreground: 229 66% 86%;
  --primary: 221 87% 72%;
  --primary-foreground: 235 19% 13%;
  --secondary: 234 16% 23%;
  --secondary-foreground: 229 66% 86%;
  --muted: 234 16% 23%;
  --muted-foreground: 229 26% 66%;
  --accent: 234 16% 23%;
  --accent-foreground: 229 66% 86%;
  --destructive: 345 54% 64%;
  --destructive-foreground: 235 19% 13%;
  --border: 234 16% 23%;
  --input: 234 16% 23%;
  --ring: 221 87% 72%;
}

/* Catppuccin Theme */
html[data-theme='catppuccin'] {
  /* Light (Latte) */
  --background: 220 23% 95%; /* #eff1f5 */
  --foreground: 234 16% 35%; /* #4c4f69 */
  --card: 220 23% 95%;
  --card-foreground: 234 16% 35%;
  --popover: 220 23% 95%;
  --popover-foreground: 234 16% 35%;
  --primary: 267 83% 58%; /* #8839ef (Mauve) */
  --primary-foreground: 220 23% 95%;
  --secondary: 228 20% 90%; /* #e6e9ef */
  --secondary-foreground: 234 16% 35%;
  --muted: 228 20% 90%;
  --muted-foreground: 233 10% 55%;
  --accent: 228 20% 90%;
  --accent-foreground: 234 16% 35%;
  --destructive: 350 75% 62%; /* #d20f39 */
  --destructive-foreground: 220 23% 95%;
  --border: 232 10% 80%;
  --input: 232 10% 80%;
  --ring: 267 83% 58%;
}

html[data-theme='catppuccin'].dark {
  /* Dark (Mocha) */
  --background: 240 21% 15%; /* #1e1e2e */
  --foreground: 226 64% 88%; /* #cdd6f4 */
  --card: 240 21% 15%;
  --card-foreground: 226 64% 88%;
  --popover: 240 21% 15%;
  --popover-foreground: 226 64% 88%;
  --primary: 267 84% 81%; /* #cba6f7 */
  --primary-foreground: 240 21% 15%;
  --secondary: 237 16% 23%; /* #313244 */
  --secondary-foreground: 226 64% 88%;
  --muted: 237 16% 23%;
  --muted-foreground: 228 24% 72%;
  --accent: 237 16% 23%;
  --accent-foreground: 226 64% 88%;
  --destructive: 343 81% 75%; /* #f38ba8 */
  --destructive-foreground: 240 21% 15%;
  --border: 237 16% 23%;
  --input: 237 16% 23%;
  --ring: 267 84% 81%;
}

/* Solarized Theme */
html[data-theme='solarized'] {
  /* Light */
  --background: 44 87% 94%; /* #fdf6e3 */
  --foreground: 205 13% 45%; /* #657b83 */
  --card: 44 87% 94%;
  --card-foreground: 205 13% 45%;
  --popover: 44 87% 94%;
  --popover-foreground: 205 13% 45%;
  --primary: 205 69% 49%; /* #268bd2 */
  --primary-foreground: 44 87% 94%;
  --secondary: 44 60% 90%; /* #eee8d5 */
  --secondary-foreground: 205 13% 45%;
  --muted: 44 60% 90%;
  --muted-foreground: 205 8% 55%;
  --accent: 44 60% 90%;
  --accent-foreground: 205 13% 45%;
  --destructive: 1 71% 52%; /* #dc322f */
  --destructive-foreground: 44 87% 94%;
  --border: 44 60% 85%;
  --input: 44 60% 85%;
  --ring: 205 69% 49%;
}

html[data-theme='solarized'].dark {
  /* Dark */
  --background: 192 100% 11%; /* #002b36 */
  --foreground: 192 8% 55%; /* #839496 */
  --card: 192 100% 11%;
  --card-foreground: 192 8% 55%;
  --popover: 192 100% 11%;
  --popover-foreground: 192 8% 55%;
  --primary: 205 69% 49%; /* #268bd2 */
  --primary-foreground: 192 100% 11%;
  --secondary: 192 81% 14%; /* #073642 */
  --secondary-foreground: 192 8% 55%;
  --muted: 192 81% 14%;
  --muted-foreground: 192 8% 40%;
  --accent: 192 81% 14%;
  --accent-foreground: 192 8% 55%;
  --destructive: 1 71% 52%; /* #dc322f */
  --destructive-foreground: 192 100% 11%;
  --border: 192 81% 14%;
  --input: 192 81% 14%;
  --ring: 205 69% 49%;
}

/* Rose Pine Theme */
html[data-theme='rose-pine'] {
  /* Light (Dawn) */
  --background: 34 33% 95%; /* #faf4ed */
  --foreground: 250 17% 40%; /* #575279 */
  --card: 34 33% 95%;
  --card-foreground: 250 17% 40%;
  --popover: 34 33% 95%;
  --popover-foreground: 250 17% 40%;
  --primary: 268 22% 57%; /* #907aa9 (Iris) */
  --primary-foreground: 34 33% 95%;
  --secondary: 33 24% 94%; /* #fffaf3 */
  --secondary-foreground: 250 17% 40%;
  --muted: 33 24% 94%;
  --muted-foreground: 247 9% 59%;
  --accent: 33 24% 94%;
  --accent-foreground: 250 17% 40%;
  --destructive: 350 49% 56%; /* #b4637a */
  --destructive-foreground: 34 33% 95%;
  --border: 247 9% 90%;
  --input: 247 9% 90%;
  --ring: 268 22% 57%;
}

html[data-theme='rose-pine'].dark {
  /* Dark (Main) */
  --background: 249 22% 12%; /* #191724 */
  --foreground: 245 50% 91%; /* #e0def4 */
  --card: 249 22% 12%;
  --card-foreground: 245 50% 91%;
  --popover: 249 22% 12%;
  --popover-foreground: 245 50% 91%;
  --primary: 267 57% 78%; /* #c4a7e7 */
  --primary-foreground: 249 22% 12%;
  --secondary: 248 19% 16%; /* #1f1d2e */
  --secondary-foreground: 245 50% 91%;
  --muted: 248 19% 16%;
  --muted-foreground: 247 23% 60%;
  --accent: 248 19% 16%;
  --accent-foreground: 245 50% 91%;
  --destructive: 356 65% 71%; /* #eb6f92 */
  --destructive-foreground: 249 22% 12%;
  --border: 248 19% 25%;
  --input: 248 19% 25%;
  --ring: 267 57% 78%;
}

/* Kanagawa Theme */
html[data-theme='kanagawa'] {
  /* Light (Lotus) */
  --background: 53 65% 84%; /* #f2ecbc */
  --foreground: 240 8% 36%; /* #545464 */
  --card: 53 65% 84%;
  --card-foreground: 240 8% 36%;
  --popover: 53 65% 84%;
  --popover-foreground: 240 8% 36%;
  --primary: 137 17% 50%; /* #698b69 (Green) */
  --primary-foreground: 53 65% 84%;
  --secondary: 53 38% 85%; /* #e5e6c5 */
  --secondary-foreground: 240 8% 36%;
  --muted: 53 38% 85%;
  --muted-foreground: 240 4% 46%;
  --accent: 53 38% 85%;
  --accent-foreground: 240 8% 36%;
  --destructive: 348 40% 50%; /* #c84053 */
  --destructive-foreground: 53 65% 84%;
  --border: 240 8% 80%;
  --input: 240 8% 80%;
  --ring: 137 17% 50%;
}

html[data-theme='kanagawa'].dark {
  /* Dark (Wave) */
  --background: 235 12% 14%; /* #1f1f28 */
  --foreground: 60 30% 80%; /* #dcd7ba */
  --card: 235 12% 14%;
  --card-foreground: 60 30% 80%;
  --popover: 235 12% 14%;
  --popover-foreground: 60 30% 80%;
  --primary: 104 17% 50%; /* #76946a */
  --primary-foreground: 235 12% 14%;
  --secondary: 233 9% 18%; /* #2a2a37 */
  --secondary-foreground: 60 30% 80%;
  --muted: 233 9% 18%;
  --muted-foreground: 234 6% 47%;
  --accent: 233 9% 18%;
  --accent-foreground: 60 30% 80%;
  --destructive: 350 48% 54%; /* #c34043 */
  --destructive-foreground: 235 12% 14%;
  --border: 233 9% 25%;
  --input: 233 9% 25%;
  --ring: 104 17% 50%;
}

/* Nord Theme */
html[data-theme='nord'] {
  /* Light (Snow Storm) */
  --background: 218 27% 94%; /* #eceff4 */
  --foreground: 220 23% 22%; /* #2e3440 */
  --card: 218 27% 94%;
  --card-foreground: 220 23% 22%;
  --popover: 218 27% 94%;
  --popover-foreground: 220 23% 22%;
  --primary: 213 32% 52%; /* #5e81ac (Frost Blue) */
  --primary-foreground: 218 27% 94%;
  --secondary: 218 27% 92%; /* #e5e9f0 */
  --secondary-foreground: 220 23% 22%;
  --muted: 218 27% 92%;
  --muted-foreground: 220 16% 36%; /* #4c566a */
  --accent: 218 27% 92%;
  --accent-foreground: 220 23% 22%;
  --destructive: 354 42% 56%; /* #bf616a */
  --destructive-foreground: 218 27% 94%;
  --border: 218 27% 88%; /* #d8dee9 */
  --input: 218 27% 88%;
  --ring: 213 32% 52%;
}

html[data-theme='nord'].dark {
  /* Dark (Polar Night) */
  --background: 220 23% 22%; /* #2e3440 */
  --foreground: 218 27% 94%; /* #eceff4 */
  --card: 220 23% 22%;
  --card-foreground: 218 27% 94%;
  --popover: 220 23% 22%;
  --popover-foreground: 218 27% 94%;
  --primary: 193 43% 67%; /* #88c0d0 (Frost Cyan) */
  --primary-foreground: 220 23% 22%;
  --secondary: 222 16% 28%; /* #3b4252 */
  --secondary-foreground: 218 27% 94%;
  --muted: 222 16% 28%;
  --muted-foreground: 218 27% 88%; /* #d8dee9 */
  --accent: 222 16% 28%;
  --accent-foreground: 218 27% 94%;
  --destructive: 354 42% 56%; /* #bf616a */
  --destructive-foreground: 220 23% 22%;
  --border: 220 17% 32%; /* #434c5e */
  --input: 220 17% 32%;
  --ring: 193 43% 67%;
}

/* Cyberpunk Theme */
html[data-theme='cyberpunk'] {
  /* Light (Neon Day) */
  --background: 0 0% 96%; /* #f5f5f5 */
  --foreground: 240 30% 6%; /* #0b0c15 */
  --card: 0 0% 96%;
  --card-foreground: 240 30% 6%;
  --popover: 0 0% 96%;
  --popover-foreground: 240 30% 6%;
  --primary: 300 100% 35%; /* #b300b3 */
  --primary-foreground: 0 0% 96%;
  --secondary: 180 100% 35%; /* #00b3b3 */
  --secondary-foreground: 0 0% 96%;
  --muted: 0 0% 90%;
  --muted-foreground: 240 10% 40%;
  --accent: 60 100% 40%; /* #cccc00 */
  --accent-foreground: 240 30% 6%;
  --destructive: 340 100% 45%;
  --destructive-foreground: 0 0% 96%;
  --border: 240 30% 15%;
  --input: 240 30% 15%;
  --ring: 300 100% 35%;
}

html[data-theme='cyberpunk'].dark {
  /* Dark (Night City) */
  --background: 260 50% 5%; /* #0a0514 - Deep Purple Black */
  --foreground: 180 100% 90%; /* Light Cyan */
  --card: 260 50% 5%;
  --card-foreground: 180 100% 90%;
  --popover: 260 50% 5%;
  --popover-foreground: 180 100% 90%;
  --primary: 320 100% 55%; /* #ff1a8c - Hot Pink */
  --primary-foreground: 260 50% 5%;
  --secondary: 190 100% 50%; /* #00e5ff - Cyan */
  --secondary-foreground: 260 50% 5%;
  --muted: 260 30% 15%;
  --muted-foreground: 280 40% 60%;
  --accent: 55 100% 50%; /* #ffe600 - Cyber Yellow */
  --accent-foreground: 260 50% 5%;
  --destructive: 0 100% 55%; /* #ff1a1a */
  --destructive-foreground: 0 0% 100%;
  --border: 320 100% 55%; /* Pink Borders */
  --input: 260 30% 20%;
  --ring: 190 100% 50%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-muted;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-foreground;
}

/* Markdown styles - Enhanced for readability */
.prose {
  @apply text-foreground;
  line-height: 1.75;
}

.prose-invert {
  @apply text-primary-foreground;
}

.prose-invert h1,
.prose-invert h2,
.prose-invert h3,
.prose-invert h4,
.prose-invert h5,
.prose-invert h6 {
  @apply text-primary-foreground font-semibold;
  margin-top: 1.5em;
  margin-bottom: 0.75em;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  @apply text-foreground font-semibold;
  margin-top: 1.5em;
  margin-bottom: 0.75em;
  line-height: 1.3;
}

.prose p {
  margin-bottom: 1.25em;
}

.prose code {
  @apply bg-muted/50 px-1.5 py-0.5 rounded text-sm font-mono;
  font-size: 0.9em;
}

.prose-invert code {
  @apply bg-primary-foreground/10 px-1.5 py-0.5 rounded text-sm font-mono text-primary-foreground;
}

.prose pre {
  @apply bg-muted/40 p-4 rounded-xl overflow-x-auto;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

.prose-invert pre {
  @apply bg-primary-foreground/10 p-4 rounded-xl overflow-x-auto;
}

.prose blockquote {
  @apply border-l-2 border-primary/30 pl-4 italic;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

.prose-invert blockquote {
  @apply border-l-2 border-primary-foreground/30 pl-4 italic;
}

.prose ul,
.prose ol {
  @apply pl-6;
  margin-top: 1em;
  margin-bottom: 1em;
}

.prose li {
  @apply mb-2;
}

/* LaTeX math styling */
.katex {
  @apply text-foreground;
}

.prose-invert .katex {
  @apply text-primary-foreground;
}

/* Loading animations */
@keyframes pulse-slow {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse-slow {
  animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Message animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Smooth scroll behavior */
.scroll-smooth {
  scroll-behavior: smooth;
}

/* Message text contrast fixes */
.user-message {
  color: hsl(var(--primary-foreground)) !important;
}

.user-message * {
  color: hsl(var(--primary-foreground)) !important;
}

.assistant-message {
  color: hsl(var(--card-foreground)) !important;
}

.assistant-message * {
  color: hsl(var(--card-foreground)) !important;
}

/* Mobile-first optimizations */
@media (max-width: 768px) {
  /* Prevent text zoom on input focus in iOS Safari */
  input[type='text'],
  input[type='email'],
  input[type='password'],
  textarea {
    font-size: 16px;
  }

  /* Better touch targets for mobile */
  button,
  a {
    min-height: 44px;
    min-width: 44px;
  }

  /* Optimize spacing for small screens */
  .mobile-compact {
    padding: 0.75rem;
  }

  /* Full width containers on mobile */
  .mobile-full-width {
    width: 100%;
    max-width: 100%;
  }
}

/* Tablet optimizations */
@media (min-width: 768px) and (max-width: 1023px) {
  .tablet-optimized {
    padding: 1.25rem;
  }
}

/* Desktop optimizations */
@media (min-width: 1024px) {
  .desktop-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Improve desktop chat experience */
  .chat-container {
    max-width: 1000px;
    margin: 0 auto;
  }

  /* Better spacing for desktop */
  .message-spacing {
    margin-bottom: 1.5rem;
  }

  /* Desktop input sizing */
  .desktop-input {
    min-height: 80px;
    font-size: 16px;
  }
}

/* Mobile landscape mode */
@media (max-width: 768px) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .landscape-compact {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

/* Intro animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.fade-in {
  animation: fadeIn 1s ease-in-out forwards;
}

.fade-out {
  animation: fadeOut 1s ease-in-out forwards;
}

@keyframes chunk-jiggle {
  0%,
  100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-1px);
  }
  75% {
    transform: translateX(1px);
  }
}

.animate-chunk-jiggle {
  animation: chunk-jiggle 2s ease-in-out infinite;
}

/* Hide scrollbar utility */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
